
<style>


/* .modal-5-pro-title-outer {
padding-bottom: 30px !important;
margin-bottom:30px;
height: 100px;
overflow-y: auto;
overflow-x: hidden;
} */

  .quick-view-height {
    max-height: 150px;
    min-height: 30px;
    overflow-y: auto !important;
    margin-bottom:10px;
  }

  .modal-content {
      position: relative;
      flex: 1 1 auto;
      padding: 2rem;
      height:100% !important;
    }

    @media only screen and (min-width: 320px) and (max-width: 600px){

    .modal-content {
position: relative;
flex: 1 1 auto;
padding: 2rem;
height: 100vh !important;
overflow-y: auto;
}
    }
  </style>

<style>
  .modal-5-outer-pad
  {
    padding: 0 40px;
  }
  .modal-5-breadcrumb-outer-pad
  {
    padding:0;
  }
  .modal-5-breadcrumb-background
  {
    background-color:#fff !important;
    margin: 0 0 10px;
  }
  .modal-5-breadcrumb-divider {
    color: #000;
    opacity: .2;
    padding: 0 5px;
}
.modal-5-pro-title
{
  font-size:27px;
  margin-bottom:10px !important;
  padding:0 !important;
  line-height: 1.1 !important;
  word-wrap: break-word;
}
/* .modal-5-pro-title-outer
{
  margin-bottom:30px !important;
} */
.disabled-ratings > label:before {
    margin: 5px 2px !important;
}
.product-page .pro-rating .btn-link {
    margin-left: 5px !important;
}

.modal-5-product-single {
    padding-top: 65px;
    padding-left: 45px;
   
}
.modal-5-pro-content
{
  padding-top:0px !important;
}
.modal-5-product-price-outer {
    margin-bottom: 30px;
}
.modal-5-product-price-label
{
  font-weight: 700;
  font-size: 15px;
  display: block;
  margin-bottom: 10px;
  cursor: default;
}
.modal-5-product-price-orginal {
    padding-right: 5px;
    display: inline-block;
    text-decoration: line-through;
    font-size:20px;
}
.modal-5-product-price-discount {
    padding-right: 5px;
    display: inline-block;
    font-size:20px;
}
.modal-5-product-price-savings {
    padding-right: 5px;
    display: inline-block;
    color: #e2183d;
    font-size: 14px;
}
.a2a_label {
    position: absolute!important;
    height: 6px;
    width: 1px;
    color: #000;
    margin-left: 10px;
    margin-top: 5px;
    clip-path: unset;
    -webkit-clip-path: unset;
    overflow: unset;
}
.a2a_default_style:not(.a2a_flex_style) a {
    width: 120px;
}
.a2a_s__default 
{
  background-color: #000 !important;
    border-radius: 50% !important;
}
.a2a_svg {
    height: 22px !important;
    width: 22px !important;
}
.modal-5-margin-bottom-30
{
  margin-bottom:30px;
}
.a2a_svg svg {
    width: 20px !important;
    height: 20px !important;
}
.modal-5-marign-30
{
  margin:30px 0;
}
.modal-5-sales-points {
    list-style: none;
    padding: 0;
    margin: 0;
}
.modal-5-icon-and-text {
    display: flex;
    flex-wrap: nowrap;
    align-items: center;
}
.modal-5-sales-point .modal-5-icon {
    position: relative;
    width: 25px;
    height: 25px;
    margin-right: 10px;
}
.modal-5-icon-and-text .modal-5-icon {
    flex: 0 0 auto;
}
.modal-5-icon-inventory:before {
    animation: inventory-pulse 2s linear infinite;
}
.modal-5-icon-inventory:after, .modal-5-icon-inventory:before {
    width: 9px;
    height: 9px;
    background: #54c63a;
    border-radius: 9px;
    position: absolute;
    left: 0;
    top: 0;
    content: "";
    margin: 8px;
}

.modal-5-product-quantity-label {
    font-weight: 700;
    font-size: 15px;
    display: block;
    margin-bottom: 10px;
}

.modal-5-qty-wrapper {
    display: inline-block;
    position: relative;
    max-width: 70px;
    min-width: 60px;
    overflow: visible;
    background-color: #fff;
    color: #000;
}
.modal-5-qty-num {
    display: block;
    background: none;
    text-align: center;
    width: 100%;
    padding: 5px 20px;
    margin: 0;
    border: 1px solid;
    border-color: #e8e8e1;
    max-width: 100%;
    border-radius: 0;
}
.modal-5-qty-adjust:hover {
    background-color: #f2f2f2;
    color: #000;
}
.modal-5-qty-adjust {
    cursor: pointer;
    position: absolute;
    display: block;
    top: 0;
    bottom: 0;
    border: 0 none;
    background: none;
    text-align: center;
    overflow: hidden;
    padding: 0 10px;
    line-height: 1;
    -webkit-user-select: none;
    user-select: none;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    transition: background-color .1s ease-out;
    z-index: 1;
    fill: #000;
}
.modal-5-review-bottom {
    font-size: 14px;
    line-height: 2;
}
.modal-5-qty-adjust-minus {
    left: 0;
}
.modal-5-qty-adjust-plus {
    right: 0;
}
.modal-5-qty-adjust .icon {
    display: block;
    font-size: 8px;
    vertical-align: middle;
    width: 10px;
    height: 10px;
    fill: inherit;
}
.modal-5-icon-fallback-text {
    clip: rect(0,0,0,0);
    overflow: hidden;
    position: absolute;
    height: 1px;
    width: 1px;
}
.modal-5-cls-1 {
    fill: none;
    stroke: #000;
    stroke-miterlimit: 10;
    stroke-width: 5px;
}
.modal-5-new-cartbtn {
    width: 100%;
    min-height: 54px;
    border-radius: 3px;
}

.modal-5-para-hide {
  display: none;
}

button {
  background: transparent;
  outline: none;
  border: none;
  transition: .3s ease;
  cursor: pointer;
}

button i {
  font-size: 1rem;
  transition: .3s ease;
}

.modal-5-rotate {
  transform: rotate(180deg);
}

.modal-5-accordion {
  background: transparent;
  margin-bottom: 0.5rem;
  transition: .3s ease;
}

button.modal-5-btn-toggle-show {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  background: transparent;
  transition: .3s ease;
  border-bottom: solid 0.5px #ddd;
}

button.modal-5-btn-toggle-show:hover {
  background: transparent;
}
.modal-5-accordion-outer
{
  margin-top:40px;
  max-width: 700px;
  padding: 0 40px;
}
.modal-5-trigger-btn {
    text-align: left;
    display: block;
    width: 100%;
    padding: 15px 0;
    font-weight: 700;
    font-size: 17px;
}

button.modal-5-btn-toggle-show span {
    color: #333333;
    font-size: 1rem;
    font-weight: 700;
}



.modal-5-accordion:last-child {
    margin: 0;
}

.modal-5-tab {
  overflow: hidden;
}
.modal-5-tab button {
  float: right;
  border: none;
  outline: none;
  cursor: pointer;
  padding: 15px;
  font-size: 14px;

  border: 1px solid rgb(0, 0, 0);
    padding: 5px 10px;
    text-align: center;
    display: inline-block;
    color: rgb(0, 0, 0);
}
.modal-5-tab button:hover {

}
.modal-5-tab button.active {

}
#modal-5-One
{
  margin-left:8px;
}
.modal-5-header-title
{
  margin-bottom:8px;
}
.modal-5-tabcontent {
    display: none;
    padding: 5px 15px 5px 15px;
    border-top: none;
}

.modal-5-tab-summary-outer{
    display: inline-block;
   
    vertical-align: top;
}
.modal-5-display-inline
{
  display: inline-block;
}
.modal-5-tab-history-outer
{
  display: inline-block;
    
}
.modal-5-histogram-bar {
    position: relative;
    display: inline-block;
    width: 120px;
    height: 14px;
    margin: 0 2px 0 4px;
    vertical-align: middle;
    box-shadow: inset 0 0 1px #666;
}
.modal-5-histogram-bar-content {
    height: 100%;
    font-size: 9px;
    line-height: 16px;
    background: #fbcd0a;
    box-shadow: inset 0 0 1px #888;
    -webkit-transition: width .3s ease;
    transition: width .3s ease;
}
.modal-5-histogram-row {
    height: 16px;
    line-height: 16px;
    margin-bottom: 5px;
    cursor: pointer;
    white-space: nowrap;
}
.modal-5-histogram-bar:after {
    content: ' ';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 0;
    background: #fbcd0a;
    opacity: 0.3;
    transition: width 0.35s ease;
}
.modal-5-histogram-percentage {
    display: inline-block;
    width: 32px;
    vertical-align: middle;
}
.modal-5-histogram-frequency {
    display: inline-block;
    margin-left: 3px;
    vertical-align: middle;
}
.modal-5-histogram {
    
    padding: 4px 16px;
    margin: 0 24px;
    font-size: 12px;
    border-left: 1px solid #eee;
    border-right: 1px solid #eee;
}
.modal-5-histogram-star
{
  display: inline-block;
    vertical-align: middle;
}
.modal-5-histogram-star > label:before {
    margin: 5px 2px !important;
}
.modal-5-histogram-star label.actives {
    color: #cac9c8;
}
.modal-5-histogram-star > label:before {
    margin: 5px;
    font-size: 14px;
    font-family: "Font Awesome 5 Free";
    display: inline-block;
    content: "\F005";
}

.modal-5-form-wrapper .labelrate {
    display: inline-block;
    margin: 20px 0 5px 0;
    width: auto;
    line-height: 1;
    font-weight: 700;
    font-size: 15px;
}

.modal-5-histogram-star label.active {
    color: #fac451;
}
.modal-5-histogram-star > label {
    float: right !important;
}

.modal-5-question-form-wrapper, .modal-5-form-wrapper {
    margin-top: 16px;
    border-top: 1px solid #eee;
}
.modal-5-form-wrapper input:not([type='submit']) {
    width: 100%;
    min-height: 2em;
    margin: 0;
    border: 1px solid #ddd;
    padding: 8px 10px;
}
.modal-5-question-form-wrapper input:not([type='submit']) {
    width: 100%;
    min-height: 2em;
    margin: 0;
    border: 1px solid #ddd;
    padding: 8px 10px;
}
.modal-5-form-title-fieldset>label, .modal-5-form-body-fieldset>label, .modal-5-form-name-fieldset>label {
    display: inline-block;
    margin-right: 3px;
    width: auto;
}
 .modal-5-picture-fieldset-input {
    position: absolute;
    display: inline-block;
    width: 100%;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    opacity: 0;
    padding: 0;
    margin: 0;
    font-size: 14px;
    visibility: visible;
    cursor: pointer;
}
.modal-5-form-wrapper label {
    display: block;
    width: 100%;
    margin: 20px 0 5px 0;
    line-height: 1;
    font-weight: 700;
    font-size:  15px;
}
.modal-5-form-wrapper textarea {
    width: 100%;
    border: 1px solid #ddd;
    padding: 8px 10px;
}

.modal-5-question-form-wrapper label {
    display: block;
    width: 100%;
    margin: 20px 0 5px 0;
    line-height: 1;
    font-weight: 700;
    font-size:  15px;
}
.modal-5-question-form-wrapper textarea {
    width: 100%;
    border: 1px solid #ddd;
    padding: 8px 10px;
}
.modal-5-picture-fieldset-title {
    margin: 20px 0 5px;
    line-height: 1;
}
.modal-5-picture-fieldset {
    width: 100%;
    padding: 0;
    white-space: nowrap;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
}
.modal-5-picture-fieldset-box {
    position: relative;
    display: inline-block;
    cursor: pointer;
    margin: 0 5px 0 0;
    padding: 0;
    width: 30%;
    max-width: 150px;
    min-width: 90px;
}
.modal-5-picture-fieldset-box-wrapper {
    position: relative;
    padding-bottom: 100%;
    padding-bottom: calc(100% - 2px);
    border: 1px solid #eee;
    width: 100%;
    height: 0;
    background-repeat: no-repeat;
    background-size: contain;
    background-position: center;
}
.modal-5-picture-fieldset-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    -webkit-transform: translateX(-50%) translateY(-50%);
    -ms-transform: translateX(-50%) translateY(-50%);
    transform: translateX(-50%) translateY(-50%);
    color: #bbb;
    font-family: "Font Awesome 5 Free";
    font-weight: 900;
    font-size: 72px;
    line-height: 1;
}
.modal-5-photocamera-icon:before {
    content: '\F030';
}
.modal-5-videocam-icon:before {
    content: '\F03D';
}
.jdgm-star.jdgm--on:before {
  font-family: "Font Awesome 5 Free";
    display: inline-block;
    content: "\F005";
}
:not(.jdgm-prev-badge__stars)>.jdgm-star {
    color: #f4d400;
}
.jdgm-star {
  color: #f4d400;
}
.jdgm-star:hover {
    opacity: 1;
}
.modal-5-submit-question, .modal-5-submit-rev {
    margin-top: 11px;
    line-height: 1.42;
    text-decoration: none;
    text-align: center;
    white-space: normal;
    font-size: 16px;
    font-weight: 700;
    display: inline-block;
    padding: 11px 25px;
    margin: 0;
    width: auto;
    min-width: 90px;
    vertical-align: middle;
    cursor: pointer;
    border: 1px solid transparent;
    -webkit-user-select: none;
    user-select: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    border-radius: 3px;
    color: #fff;
    background: #ff6128;
}
.modal-5-notification {
    color: green;
    font-weight: bold;
    border-top: 1px solid #eee;
    padding-top: 16px;
    margin-top: 16px;
}
.modal-5-outer-pad .slider-nav-vertical5 {
    float: left;
    width: 80px !important;
    margin-top: 0;
    margin-right: 15px;
    
}
.pro-content .modal-5-outer-pad .slider-nav-vertical5 .slick-slide {
    width: 80px !important;
    margin-bottom: 15px;
}
.pro-content .modal-5-outer-pad .slider-nav-vertical5 .slick-current {
    border:solid 2px;
}
.modal-5-outer-pad .slider-wrapper .slider-nav-vertical5 img {
    width: 100%;
    height: 100% !important;
}
.modal-5-outer-pad .slider-for-vertical5 {
    float: right;
    width: 82%;
    padding-left: 0;
    border: solid 1px #ddd;
    height: 500px;
}
.modal-5-outer-pad .slider-for-vertical5 .slick-track
{
  width: 100% !important;
}
.modal-5-outer-pad .slider-for-vertical5 .slick-slide {
  display: none;
}
.modal-5-outer-pad .slider-for-vertical5 .slick-slide.slick-current {
  width: 100% !important;
  padding: 8px !important;
  left:0 !important;
  cursor: zoom-in;
  display: block !important;
}
.modal-5-outer-pad .slider-for-vertical5 .slick-list .slick-track .slick-slide img {
    height: 100% !important;
    object-fit: contain;
    width:100% !important;
}
.fancybox-opened {
    z-index: 8030;
    width: 100% !important;
    left: 0 !important;
    top: 0 !important;
    height: 100vh !important;
    background: #fff;
}
.fancybox-inner {
    overflow: hidden;
    width: 700px !important;
    height: 630px !important;
    margin: auto;
}
.fancybox-nav span {
    position: absolute;
    top: 0% !important;
    visibility: visible;
    margin-top: 0px !important;
}
.fancybox-next  {
    right: 42% !important;
}
.fancybox-prev  {
    left: 42% !important;
}
.fancybox-close {
    top: unset !important;
    right: 49% !important;
    bottom: 5% !important;
}

.fancybox-prev span {
    left: 0px !important;
}
.fancybox-opened .fancybox-skin {
    box-shadow: unset !important; 
    padding:0 !important;
}
.fancybox-nav {
    bottom: 5% !important;
    width: 36px !important;
    height: 36px !important;
    top: 90%;
    margin-top: -3px;
}
.modal-5-image-desktop
  {
    display: block;
  }
  .modal-5-image-mobile
  {
    display: none;
  }
.modal-5-image-mobile .slick-slide {
    display: block;
    border: solid 1px #ddd;
    margin: 5px;
    padding: 0;
}
.note--success {
    color: #56ad6a;
    background-color: #ecfef0;
    border-color: #56ad6a;
}

#myModal_tbm .modal-dialog {
    max-width: calc(100% - 80px);
}
#myModal_tbm .modal-dialog .modal-body .close {
    outline: none;
    font-size: 40px;
    font-weight: normal;
    position: fixed;
    top: -15px;
    right: 70px;
    width: 40px;
    height: 40px;
    background-color: #ff6128;
    border-radius: 50%;
    line-height: 0.8;
    opacity: 1 !important;
    color: #fff;
    z-index: 9;
}
#myModal_tbm .modal-dialog .modal-body .close:hover {
  transform: scale(1.1);
}
#myModal_tbm .modal-content
{
    padding: 45px;
    max-height: 90vh !important;
    max-width: 1200px;
    min-width: 200px;
    min-height: 200px;
    border-radius: 15px;
    margin:auto;
    overflow-x:hidden;
}
.modal-5-outer-pad .slick-track {
    display: unset !important;
}
@media only screen and (max-width: 1150px)
{
  .modal-5-outer-pad .slider-for-vertical5 {
    width: 79%;
    height: 370px;
}
.a2a_default_style:not(.a2a_flex_style) a {
    width: 105px;
}
.modal-5-product-single {
    height: 370px;
    overflow-y: auto;
}



}



@media only screen and (min-width: 700px) and (max-width: 800px){

    .product-page h5 {
    line-height: 1.5;
    padding: 10px 0 10px 30px;
    margin: 0;
    }

    .modal-5-pro-title-outer small {
    font-size: 80%;
    font-weight: 400;
    padding: 10px 0 10px 30px !important;
    }

  }
@media only screen and (max-width: 768px)
{

  .product-page h5 {
    line-height: 1.5;
    padding: 10px 0 10px 30px;
    margin: 0;
    }
  .modal-5-pro-title-outer small {
    font-size: 80%;
    font-weight: 400;
    padding: 10px 0 10px 30px !important;
    }

  .modal-5-image-desktop
  {
    display: none;
  }
  .modal-5-image-mobile
  {
    display: block;
  }
  .modal-5-image-mobile .slick-dots li button {
    position: relative;
    width: 6px !important;
    height: 6px !important;
    transition: unset;
    margin: 0;
    border: unset !important;
    outline: none;
    border-radius: 50%;
    padding: 0;
    background: #ddd;
}
.modal-5-image-mobile .slick-dots li button::after {
    left: 0;
    width: 9px !important;
   
}
.modal-5-image-mobile .slick-dots .slick-active button::after {
    left: 0;
    width: 9px !important;
    height: 9px !important;
   
}

  .modal-5-image-mobile .slick-list
  {
    padding: 0 100px !important;
  }
  .modal-5-product-single {
    height: auto;
   padding: 0;
   margin-top:0 !important; 
   overflow:hidden;
}
.modal-5-pro-title {
    padding: 0 32px !important;
}
.modal-5-breadcrumb-background {
    padding: 0 32px;
}
.modal-5-outer-pad {
    padding: 0; 
}
.modal-5-new-cartbtn {
    width: 92%;
    margin: 0 32px;
}
.modal-5-margin-bottom-30 {
    padding: 0 32px;
}
.modal-5-product-single .pro-options {
    padding: 0 32px;
}
.modal-5-product-price-outer {
    padding: 0 32px;
}
.modal-5-marign-30 {
    padding: 0px 32px;
}
.search-fancy-modal-5
{
  position: relative;
}
.search-fancy-modal-5-btn {
    position: absolute;
    bottom: 0;
    right: 0;
    margin-right: 10px;
    margin-bottom: 10px;
    box-shadow: 0 3px 6px #00000026;
    padding: 8px 10px;
    border-radius: 50%;
    cursor: zoom-in;
    width: 36px;
    height: 36px;
    font-size: 15px;
}
.modal-5-accordion-outer {
    padding: 0;
}
button.modal-5-btn-toggle-show {
   padding:15px;
}
#modal-5-One {
    margin-left: 0px;
    margin-top: 10px;
}
.modal-5-tab button {
    float: unset; 
    font-size:12px;
    width: 100%;
    margin: 5px 0;
}
.modal-5-header-title {
    font-size: 20px;
}
.modal-5-review-bottom {
    font-size: 12px;
    line-height: 2;
    margin: 5px 0;
    display: block !important;
}
.modal-5-inner-content
{
    padding: 0 17px;
}
.modal-5-question-form-wrapper label {
    
    font-size: 12px;
}
.modal-5-form-wrapper label {
    font-size: 12px;
}
.modal-5-tabcontent {
    padding: 0px;
    padding-top: 10px;
}

.modal-5-submit-question, .modal-5-submit-rev {
  font-size:12px;
}
}

@media only screen and (max-width: 576px)
{
.a2a_label {
   
    font-size: 10px;
}
.modal-5-product-price-orginal {
    font-size: 15px;
}
.modal-5-product-price-discount {
    font-size: 15px;
}
.modal-5-product-price-savings {
    font-size: 12px;
}
.modal-5-pro-title {
    font-size: 20px;
}
.modal-5-breadcrumb-outer-pad a
{
  font-size: 10px;
}
.a2a_default_style:not(.a2a_flex_style) a {
    margin-bottom: 10px;
}
.modal-5-new-cartbtn {
    width: 81%;
    
}
.modal-5-image-mobile .slick-list
  {
    padding: 0 50px !important;
  }
}


.row-scroll .btn-secondary:hover{
  color:#fff !important;
}

</style>
 <?php
  $currency = \App\Models\Core\Currency::where('id',session('currency_id'))->pluck('decimal_places'); 
        $decimal_places = count($currency) > 0 ? $currency[0] : 2;
?>


<section class="pro-content modal-5-pro-content">
@if($result['detail']['product_data'])
  <div class="container-fluid modal-5-outer-pad p-0">

</div>
<meta property="og:title" content="{{$result['detail']['product_data'][0]->products_name}}" />
<meta property="og:image" content="{{asset($result['detail']['product_data'][0]->default_images) }}" />


<section class="product-page">
  <div class="container-fluid modal-5-outer-pad p-0"> 
    <div class="row">
      <div class="col-12 col-lg-6 modal-5-image-desktop">
          <div class="slider-wrapper ">
              <div class="slider-for-vertical5">
                <?php
                  $videos = DB::table('product_video')->LeftJoin('image_categories', function ($join) {
                    $join->on('image_categories.image_id', '=', 'product_video.image_id')
                        ->where(function ($query) {
                            $query->where('image_categories.image_type', '=', 'THUMBNAIL')
                                ->where('image_categories.image_type', '!=', 'THUMBNAIL')
                                ->orWhere('image_categories.image_type', '=', 'ACTUAL');
                        });
                })
                  ->select('product_video.*', 'image_categories.path as image')->where('product_id', $result['detail']['product_data'][0]->products_id)->get();
                  if(count($videos) > 0)
                  {
                    foreach($videos as $video)
                    {
                ?>
                 <a class="slider-for__item  fancybox-button iframe">
                 {!! $video->video_link !!}          
                </a>
                <?php }} ?>
                
                <a class="slider-for__item  fancybox-button" href="{{asset($result['detail']['product_data'][0]->default_images) }}" data-fancybox-group="fancybox-button">
                @if($result['detail']['product_data'][0]->default_images_path_type == 'aws')
                    <img src="{{$result['detail']['product_data'][0]->default_images }}" alt="Zoom Image" />
                    @else
                    <img src="{{asset('').$result['detail']['product_data'][0]->default_images }}" alt="Zoom Image" />
                  @endif
                 
                </a>
            
                @foreach( $result['detail']['product_data'][0]->images as $key=>$images )
                  @if($images->image_type == 'LARGE')

                  <a class="slider-for__item  fancybox-button" href="{{asset($images->image_path) }}" data-fancybox-group="fancybox-button" >
                  @if($images->image_path_type == 'aws')
                      <img src="{{$images->image_path }}" alt="Zoom Image" />
                    @else
                      <img src="{{asset('').$images->image_path }}" alt="Zoom Image" />
                    @endif
                   
                  </a>
                  
                  @elseif($images->image_type == 'ACTUAL')
                  <a class="slider-for__item  fancybox-button" href="{{asset($images->image_path) }}" data-fancybox-group="fancybox-button">
                  @if($images->image_path_type == 'aws')
                      <img src="{{$images->image_path }}" alt="Zoom Image" />
                    @else
                      <img src="{{asset('').$images->image_path }}" alt="Zoom Image" />
                    @endif

                   
                  </a>
                  @endif
                @endforeach
              </div>


              
            
              <div class="slider-nav-vertical5">

                <?php
                  $videos = DB::table('product_video')->LeftJoin('image_categories', function ($join) {
                    $join->on('image_categories.image_id', '=', 'product_video.image_id')
                        ->where(function ($query) {
                            $query->where('image_categories.image_type', '=', 'THUMBNAIL')
                                ->where('image_categories.image_type', '!=', 'THUMBNAIL')
                                ->orWhere('image_categories.image_type', '=', 'ACTUAL');
                        });
                })
                  ->select('product_video.*', 'image_categories.path as image')->where('product_id', $result['detail']['product_data'][0]->products_id)->get();
                  if(count($videos) > 0)
                  {
                    foreach($videos as $video)
                    {
                ?>
                       <div class="slider-nav__item" style="position:relative;"  onclick="pauseVideo()">
                        <img src="{{asset($video->image)}}" alt="Zoom Image"/>
                        <i style="position:absolute;font-size: 22px;top: 40%;left: 40%;color:red;" class="fa fa-play-circle" aria-hidden="true"></i>
                         
                      </div>      
               
                <?php }} ?>
                
                
                <div class="slider-nav__item" onclick="pauseVideo()">
                @if($result['detail']['product_data'][0]->default_thumb_image_path_type == 'aws')
                <img src="{{$result['detail']['product_data'][0]->default_thumb }}" alt="Zoom Image"/>
                    @else
                    <img src="{{asset('').$result['detail']['product_data'][0]->default_thumb }}" alt="Zoom Image"/>
                  @endif
                 
                </div>
            
                @foreach( $result['detail']['product_data'][0]->images as $key=>$images )
                @if($images->image_type == 'THUMBNAIL')
                <div class="slider-nav__item" onclick="pauseVideo()">
                @if($images->image_path_type == 'aws')
                <img src="{{$images->image_path }}" alt="Zoom Image"/>
                    @else
                    <img src="{{asset('').$images->image_path }}" alt="Zoom Image"/>
                    @endif
                  
                </div>
                @endif
                @endforeach
                </div>
             
              </div>

            
      </div>
      <div class="col-12 col-lg-6 pt2 modal-5-product-single">
        <div class="row">
            <div class="col-12 col-md-12">
              
            <nav aria-label="breadcrumb" class="modal-5-breadcrumb-background">
      <div class="container-fluid modal-5-breadcrumb-outer-pad">
          <ol class="breadcrumb modal-5-breadcrumb-outer-pad">
            <li class="breadcrumb-items"><a href="{{ URL::to('/')}}">@lang('website.Home')</a><span class="modal-5-breadcrumb-divider">/</span></li>

              @if(!empty($result['category_name']) and !empty($result['sub_category_name']))
                <li class="breadcrumb-items"><a href="{{ URL::to('/shop?category='.$result['category_slug'])}}">{{$result['category_name']}}</a><span class="modal-5-breadcrumb-divider">/</span></li>
                <li class="breadcrumb-items"><a href="{{ URL::to('/shop?category='.$result['sub_category_slug'])}}">{{$result['sub_category_name']}}</a></li>
              @elseif(!empty($result['category_name']) and empty($result['sub_category_name']))
                <li class="breadcrumb-items"><a href="{{ URL::to('/shop?category='.$result['category_slug'])}}">{{$result['category_name']}}</a></li>
              @endif
           
          </ol>
      </div>
    </nav>
              <div class="badges">

                <?php 
                $current_date = date("Y-m-d", strtotime("now"));

                $string = substr($result['detail']['product_data'][0]->products_date_added, 0, strpos($result['detail']['product_data'][0]->products_date_added, ' '));
                $date=date_create($string);
                date_add($date,date_interval_create_from_date_string($web_setting[20]->value." days"));

                $after_date = date_format($date,"Y-m-d");

              
              ?>

              <?php
              $discount_percentage = 0;
              if(!empty($result['detail']['product_data'][0]->discount_price)){
                $discount_price = $result['detail']['product_data'][0]->discount_price * session('currency_value');
              }
              $orignal_price = $result['detail']['product_data'][0]->products_price * session('currency_value');

              if(!empty($result['detail']['product_data'][0]->discount_price)){

              if(($orignal_price+0)>0){
                $discounted_price = $orignal_price-$discount_price;
                $discount_percentage = $discounted_price/$orignal_price*100;
              }else{
                $discount_percentage = 0;
                $discounted_price = 0;
              }
              
              ?>             
              
              <?php }
              
              ?>
          
            </div>
            <div class="modal-5-pro-title-outer">

                <h5 class="pro-title modal-5-pro-title">{{$result['detail']['product_data'][0]->products_name}}</h5>
                @if($result['detail']['product_data'][0]->products_type == 3)
                  <?php
                        $comboPro = DB::table('product_combo')
                        ->leftjoin('products_description','products_description.products_id','=','product_combo.product_id')
                        ->leftjoin('categories_description','categories_description.categories_id','=','product_combo.cate_id')
                        ->where('products_description.language_id', Session::get('language_id'))
                        ->where('categories_description.language_id', Session::get('language_id'))
                        ->where('product_combo.pro_id', $result['detail']['product_data'][0]->products_id)
                        ->get();
                      ?>
                      <div class="row">
                        @foreach($comboPro as $comboProd)
                          <div class="col-md-6">
                            <small><b>Product Name :</b> {{$comboProd->products_name}}</small><br>
                            <small><b>Category Name :</b> {{$comboProd->categories_name}}</small><br>
                            <small><b>Qty :</b> {{$comboProd->qty}}</small><br>
                            @if($comboProd->products_type == 1)
                            <?php
                             
                              $productsAttributes = DB::table('products_attributes')
                                  ->leftJoin('products_options', 'products_options.products_options_id', '=', 'products_attributes.options_id')
                                  ->leftJoin('products_options_values', 'products_options_values.products_options_values_id', '=', 'products_attributes.options_values_id')
                                  ->select('products_attributes.*', 'products_options.products_options_name as options_name', 'products_options_values.products_options_values_name as options_values')
                                  ->where('products_attributes.options_id', $comboProd->attractive_id)
                                  ->where('products_attributes.options_values_id', $comboProd->option_id)
                                  ->get();

                              $options_names = $productsAttributes[0]->options_name;
                              $options_values = $productsAttributes[0]->options_values;
                              
                            ?>
                             <small><b><?php echo $options_names; ?> :</b> <?php echo $options_values; ?></small><br>
                            @endif
                          </div>
                        @endforeach
                      </div><br>
                @endif

                @if($result['detail']['product_data'][0]->products_type == 4)
                <?php
                        $comboPro = DB::table('product_buy_x')
                        ->leftjoin('products_description','products_description.products_id','=','product_buy_x.product_id')
                        ->leftjoin('categories_description','categories_description.categories_id','=','product_buy_x.cate_id')
                        ->where('products_description.language_id', Session::get('language_id'))
                        ->where('categories_description.language_id', Session::get('language_id'))
                        ->where('product_buy_x.pro_id', $result['detail']['product_data'][0]->products_id)
                        ->get();

                        $getX = DB::table('product_get_x')
                        ->leftjoin('products_description','products_description.products_id','=','product_get_x.product_id')
                        ->leftjoin('categories_description','categories_description.categories_id','=','product_get_x.cate_id')
                        ->where('products_description.language_id', Session::get('language_id'))
                        ->where('categories_description.language_id', Session::get('language_id'))
                        ->where('product_get_x.pro_id', $result['detail']['product_data'][0]->products_id)
                        ->get();

                      ?>
                      <div class="row">
                        <div class="col-md-6">
                          <h5>Buy X :</h5>
                          @foreach($comboPro as $comboProd)
                            <small><b>Product Name :</b> {{$comboProd->products_name}}</small><br>
                            <small><b>Category Name :</b> {{$comboProd->categories_name}}</small><br>
                            <small><b>Qty :</b> {{$comboProd->qty}}</small><br>
                            @if($comboProd->products_type == 1)
                            <?php
                             
                              $productsAttributes = DB::table('products_attributes')
                                  ->leftJoin('products_options', 'products_options.products_options_id', '=', 'products_attributes.options_id')
                                  ->leftJoin('products_options_values', 'products_options_values.products_options_values_id', '=', 'products_attributes.options_values_id')
                                  ->select('products_attributes.*', 'products_options.products_options_name as options_name', 'products_options_values.products_options_values_name as options_values')
                                  ->where('products_attributes.options_id', $comboProd->attractive_id)
                                  ->where('products_attributes.options_values_id', $comboProd->option_id)
                                  ->get();

                              $options_names = $productsAttributes[0]->options_name;
                              $options_values = $productsAttributes[0]->options_values;
                              
                            ?>
                             <small><b><?php echo $options_names; ?> :</b> <?php echo $options_values; ?></small><br>
                            @endif
                          @endforeach
                        </div>
                        <div class="col-md-6">
                          <h5>Get X :</h5>
                          @foreach($getX as $comboProdgetX)
                            <small><b>Product Name :</b> {{$comboProdgetX->products_name}}</small><br>
                            <small><b>Category Name :</b> {{$comboProdgetX->categories_name}}</small><br>
                            <small><b>Qty :</b> {{$comboProdgetX->qty}}</small><br>
                            @if($comboProdgetX->products_type == 1)
                            <?php
                             
                              $productsAttributes = DB::table('products_attributes')
                                  ->leftJoin('products_options', 'products_options.products_options_id', '=', 'products_attributes.options_id')
                                  ->leftJoin('products_options_values', 'products_options_values.products_options_values_id', '=', 'products_attributes.options_values_id')
                                  ->select('products_attributes.*', 'products_options.products_options_name as options_name', 'products_options_values.products_options_values_name as options_values')
                                  ->where('products_attributes.options_id', $comboProdgetX->attractive_id)
                                  ->where('products_attributes.options_values_id', $comboProdgetX->option_id)
                                  ->get();

                              $options_names = $productsAttributes[0]->options_name;
                              $options_values = $productsAttributes[0]->options_values;
                              
                            ?>
                             <small><b><?php echo $options_names; ?> :</b> <?php echo $options_values; ?></small><br>
                            @endif
                          @endforeach
                        </div>
                      </div>
                       
                @endif
            </div>

                <section class="modal-5-image-mobile">
        
              <div class="modal-5-slick-slider">     
                  <div class="slick search-fancy-modal-5">
                  <a href="" target="_blank">
                        <img class=""  src="{{asset($result['detail']['product_data'][0]->default_images) }}" width="100%" alt="First slide">
                      </a>
                      <a class="fancybox-button search-fancy-modal-5-btn" href="{{asset($result['detail']['product_data'][0]->default_images) }}" data-fancybox-group="fancybox-button"><i class="fa fa-search" aria-hidden="true"></i></a>
                    </button>
                     
                  </div>
                  <!-- <div class="slick search-fancy-modal-5">
                  <a href="" target="_blank">
                        <img class=""  src="{{asset($result['detail']['product_data'][0]->default_images) }}" width="100%" alt="First slide">
                      </a>
                      <a class="fancybox-button search-fancy-modal-5-btn" href="{{asset($result['detail']['product_data'][0]->default_images) }}" data-fancybox-group="fancybox-button"><i class="fa fa-search" aria-hidden="true"></i></a>
                  </div>
                  <div class="slick search-fancy-modal-5">
                      <a href="" target="_blank">
                        <img class=""  src="{{asset($result['detail']['product_data'][0]->default_images) }}" width="100%" alt="First slide">
                      </a>
                      <a class="fancybox-button search-fancy-modal-5-btn" href="{{asset($result['detail']['product_data'][0]->default_images) }}" data-fancybox-group="fancybox-button"><i class="fa fa-search" aria-hidden="true"></i></a>
                  </div> -->
                
              </div>
            
       
</section>


              @if($result['detail']['product_data'][0]->rating > 0)
                <div class="pro-rating">
              <fieldset class="disabled-ratings">                                           
              <label class = "full fa @if($result['detail']['product_data'][0]->rating >= 5) active @endif" for="star_5" title="@lang('website.awesome_5_stars')"></label>    
            <label class = "full fa @if($result['detail']['product_data'][0]->rating >= 4) active @endif" for="star_4" title="@lang('website.pretty_good_4_stars')"></label>  
            <label class = "full fa @if($result['detail']['product_data'][0]->rating >= 3) active @endif" for="star_3" title="@lang('website.good_3_stars')"></label>  
            <label class = "full fa @if($result['detail']['product_data'][0]->rating >= 2) active @endif" for="star_2" title="@lang('website.average_2_stars')"></label>                                       
                <label class = "full fa @if($result['detail']['product_data'][0]->rating >= 1) active @endif" for="star1" title="@lang('website.bad_1_stars')"></label>
              </fieldset>                                          
              <a href="#review" id="review-tabs" data-toggle="pill" role="tab" class="btn-link">{{$result['detail']['product_data'][0]->total_user_rated}} @lang('website.Reviews') </a>
            </div>
            @endif
            </div>
           
          
          <div class="modal-5-product-price-outer">
                            
            <?php

            if(!empty($result['detail']['product_data'][0]->discount_price)){
              $discount_price = $result['detail']['product_data'][0]->discount_price * session('currency_value');
            }
            if(!empty($result['detail']['product_data'][0]->flash_price)){
              $flash_price = $result['detail']['product_data'][0]->flash_price * session('currency_value');
            }
              $orignal_price = $result['detail']['product_data'][0]->products_price * session('currency_value');


             if(!empty($result['detail']['product_data'][0]->discount_price)){

              if(($orignal_price+0)>0){
                $discounted_price = $orignal_price-$discount_price;
                $discounted_price_new = $orignal_price-$discount_price;
                $discount_percentage = $discounted_price/$orignal_price*100;
                $discounted_price = $result['detail']['product_data'][0]->discount_price;

             }else{
               $discount_percentage = 0;
               $discounted_price = 0;
               $discounted_price_new = 0;
             }
            }
            else{
              $discounted_price = $orignal_price;
              $discounted_price_new = 0;
            }
            ?>

          
          <label class="modal-5-product-price-label">Price</label>

                    
            @if(!empty($result['detail']['product_data'][0]->flash_price))
            <span class="modal-5-product-price-orginal" id="total_org_price">{{Session::get('symbol_left')}}  {{$orignal_price}} {{Session::get('symbol_right')}} </span> 
            <span class="modal-5-product-price-discount total_price" id="total_dis_price">{{Session::get('symbol_left')}}{{$flash_price}}{{Session::get('symbol_right')}}</span>
            

            @elseif(!empty($result['detail']['product_data'][0]->discount_price))
           
            <span class="modal-5-product-price-orginal" id="total_org_price">{{Session::get('symbol_left')}}{{number_format($orignal_price,$decimal_places)}}{{Session::get('symbol_right')}} </span> 
            <span class="modal-5-product-price-discount total_price" id="total_dis_price">{{Session::get('symbol_left')}} {{$discount_price}} {{Session::get('symbol_right')}}</span>
            <span class="modal-5-product-price-savings">Save {{Session::get('symbol_left')}} {{$discounted_price_new}} {{Session::get('symbol_right')}}</span>    
            
            @else
            <span class="modal-5-product-price-discount total_price" id="total_dis_price">{{Session::get('symbol_left')}} {{$orignal_price}} {{Session::get('symbol_right')}}</span>
            @endif
                               
            </div>

             <!-- AddToAny BEGIN -->
             <div class="a2a_kit a2a_kit_size_32 a2a_default_style modal-5-marign-30">
                <a class="a2a_dd" href="https://www.addtoany.com/share"></a>
                <a class="a2a_button_facebook"></a>
                <a class="a2a_button_twitter"></a>
                <a class="a2a_button_email"></a>
                </div>
                <script async src="https://static.addtoany.com/menu/page.js"></script>
                <!-- AddToAny END -->

              <div class="modal-5-margin-bottom-30">
                <ul class="modal-5-sales-points">
                  <li class="modal-5-sales-point">
                    <span class="modal-5-icon-and-text">
                      <span class="modal-5-icon modal-5-icon-inventory"></span>
                        @if($result['detail']['product_data'][0]->products_type == 0)
                          @if($result['commonContent']['settings']['Inventory'])
                          @if($result['detail']['product_data'][0]->stock_status == 1)
                            @if($result['commonContent']['settings']['stock_availability'] == 1)
                            <span data-product-inventory="" data-threshold="0">In stock, ready to ship , available stock {{ $result['detail']['product_data'][0]->defaultStock }}
                            @else
                            @if($result['detail']['product_data'][0]->defaultStock <= 0)
                            <span data-product-inventory="" data-threshold="0"> Sold Out
                            @else
                            <span data-product-inventory="" data-threshold="0">In stock, ready to ship
                            @endif
                          @endif
                          @else 
                          <span data-product-inventory="" data-threshold="0">In stock, ready to ship   
                          @endif
                          @else 
                          <span data-product-inventory="" data-threshold="0">In stock, ready to ship   
                          @endif
                        @endif


                        @if($result['detail']['product_data'][0]->products_type == 1)
          
                          @if($result['commonContent']['settings']['Inventory'])
                          @if($result['detail']['product_data'][0]->stock_status == 1)
                          @if($result['commonContent']['settings']['stock_availability'] == 1)
                              <span  id="variable-count"></span>
                            @else
                              <span  id="variable-status"></span>  
                            @endif
                            @else
                              <span  id="variable-status"></span>  
                            @endif
                        @endif
                        @endif

                        @if($result['detail']['product_data'][0]->products_type == 2)
                        <span class="text-secondary">@lang('website.External Link')</span>
                        @endif
                      
                      </span>
                    </span>
                  </li>
                </ul>
              </div>


          <form name="attributes" id="add-Product-form" method="post" >
            <input type="hidden" name="products_id" value="{{$result['detail']['product_data'][0]->products_id}}">
            <input type="hidden" name="special_discount" id="special_discount" value="no">
            <input type="hidden" name="special_price" id="special_price" value="">
            <input type="hidden" name="org_price" id="org_price" value="">

            <input type="hidden" name="products_price" id="products_price" value="@if(!empty($result['detail']['product_data'][0]->flash_price)) {{$result['detail']['product_data'][0]->flash_price+0}} @elseif(!empty($result['detail']['product_data'][0]->discount_price)){{$result['detail']['product_data'][0]->discount_price+0}}@else{{$result['detail']['product_data'][0]->products_price+0}}@endif">

            <input type="hidden" name="checkout" id="checkout_url" value="@if(!empty(app('request')->input('checkout'))) {{ app('request')->input('checkout') }} @else false @endif" >

            <input type="hidden" id="max_order" value="@if(!empty($result['detail']['product_data'][0]->products_max_stock)){{ $result['detail']['product_data'][0]->products_max_stock }}@else 0 @endif" >
             @if(!empty($result['cart']))
              <input type="hidden"  name="customers_basket_id" value="{{$result['cart'][0]->customers_basket_id}}" >
             @endif


             @if(count($result['detail']['product_data'][0]->attributes)>0)
             <div class="pro-options row">
             <?php
                 $index = 0;
             ?>
               @foreach( $result['detail']['product_data'][0]->attributes as $key=>$attributes_data )
               <?php
                   $functionValue = 'function_'.$key++;
               ?>
               <input type="hidden" name="option_name[]" value="{{ $attributes_data['option']['name'] }}" >
               <input type="hidden" name="option_id[]" value="{{ $attributes_data['option']['id'] }}" >
               <input type="hidden" name="{{ $functionValue }}" id="{{ $functionValue }}" value="0" >
               <input id="attributeid_<?=$index?>" type="hidden" value="">
               <input id="attribute_sign_<?=$index?>" type="hidden" value="">
               <input id="attributeids_<?=$index?>" type="hidden" name="attributeid[]" value="" >
               
                 <div class="attributes col-12 col-md-4 box">
                     <label class="">{{ $attributes_data['option']['name'] }}</label>
                     <div class="select-control">
                     <select name="{{ $attributes_data['option']['id'] }}" onChange="getQuantity()" class="currentstock form-control attributeid_<?=$index++?>" attributeid = "{{ $attributes_data['option']['id'] }}">
                       @if(!empty($result['cart']))
                         @php
                           $value_ids = array();
                           foreach($result['cart'][0]->attributes as $values){
                               $value_ids[] = $values->options_values_id;
                           }
                         @endphp
                           @foreach($attributes_data['values'] as $values_data)
                             @if(!empty($result['cart']))
                             <option @if(in_array($values_data['id'],$value_ids)) selected @endif attributes_value="{{ $values_data['products_attributes_id'] }}" value="{{ $values_data['id'] }}" prefix = '{{ $values_data['price_prefix'] }}'  value_price ="{{ $values_data['price']+0 }}" >{{ $values_data['value'] }}</option>
                             @endif
                           @endforeach
                         @else
                           @foreach($attributes_data['values'] as $values_data)
                             <option @if($values_data['is_default']) selected @endif attributes_value="{{ $values_data['products_attributes_id'] }}" value="{{ $values_data['id'] }}" prefix = '{{ $values_data['price_prefix'] }}'  value_price ="{{ $values_data['price']+0 }}" >{{ $values_data['value'] }}</option>
                           @endforeach
                         @endif
                       </select>
                     </div> 
                   </div>                 
               
               @endforeach
             </div>
             @endif
        
             @if(!empty($result['detail']['product_data'][0]->flash_start_date))
             <div class="countdown pro-timer" data-toggle="tooltip" data-placement="bottom" title="@lang('website.Countdown Timer')" id="counter_{{$result['detail']['product_data'][0]->products_id}}" >                               
               <span class="days">0<small>@lang('website.Days') </small></span>
               <span class="hours">0<small>@lang('website.Hours')</small></span>
               <span class="mintues">0<small>@lang('website.Minutes')</small></span>
               <span class="seconds">0<small>@lang('website.Seconds')</small></span>
             </div>
             @endif
        
          
          <div class="pro-counter" @if(!empty($result['detail']['product_data'][0]->flash_start_date) and $result['detail']['product_data'][0]->server_time < $result['detail']['product_data'][0]->flash_start_date ) style="display: none" @endif>


          <div class="modal-5-margin-bottom-30">
            <div class="modal-5-product-quantity-outer">
              <label class="modal-5-product-quantity-label">Quantity</label>
              <div class="modal-5-qty-wrapper">



                

                @if($result['detail']['product_data'][0]->products_type == 0)
                @if($result['detail']['product_data'][0]->stock_status == 1)

                  @if($result['detail']['product_data'][0]->defaultStock > $result['detail']['product_data'][0]->products_max_stock && $result['detail']['product_data'][0]->products_max_stock !=0)
                  <input type="text" readonly name="quantity" class="modal-5-qty-num qty" value="@if(!empty($result['cart'])) {{$result['cart'][0]->customers_basket_quantity}} @else @if($result['detail']['product_data'][0]->products_min_order>0 and $result['detail']['product_data'][0]->defaultStock > $result['detail']['product_data'][0]->products_min_order) {{$result['detail']['product_data'][0]->products_min_order}} @else 1 @endif @endif" min="{{$result['detail']['product_data'][0]->products_min_order}}" max="{{$result['detail']['product_data'][0]->products_max_stock}}">
                  @else

                  <input type="text" readonly name="quantity" class="modal-5-qty-num qty" value="@if(!empty($result['cart'])) {{$result['cart'][0]->customers_basket_quantity}} @else @if($result['detail']['product_data'][0]->products_min_order>0 and $result['detail']['product_data'][0]->defaultStock > $result['detail']['product_data'][0]->products_min_order) {{$result['detail']['product_data'][0]->products_min_order}} @else 1 @endif @endif" min="{{$result['detail']['product_data'][0]->products_min_order}}" max="{{$result['detail']['product_data'][0]->defaultStock}}">   

                  @endif
                  @else

<input type="text" readonly name="quantity" class="modal-5-qty-num qty" value="@if(!empty($result['cart'])) {{$result['cart'][0]->customers_basket_quantity}} @else @if($result['detail']['product_data'][0]->products_min_order>0 and $result['detail']['product_data'][0]->defaultStock > $result['detail']['product_data'][0]->products_min_order) {{$result['detail']['product_data'][0]->products_min_order}} @else 1 @endif @endif" min="{{$result['detail']['product_data'][0]->products_min_order}}" max="99999999">   

@endif

                @elseif($result['detail']['product_data'][0]->products_type == 1)

                @if($result['detail']['product_data'][0]->stock_status == 1)
                  <input type="text" readonly name="quantity" class="modal-5-qty-num qty type_one" value="@if(!empty($result['cart'])) {{$result['cart'][0]->customers_basket_quantity}} @else @if($result['detail']['product_data'][0]->products_min_order>0 and $result['detail']['product_data'][0]->defaultStock > $result['detail']['product_data'][0]->products_min_order) {{$result['detail']['product_data'][0]->products_min_order}} @else 1 @endif @endif" min="{{$result['detail']['product_data'][0]->products_min_order}}" max="{{$result['detail']['product_data'][0]->products_max_stock}}">
                 @else
                 <input type="text" readonly name="quantity" class="modal-5-qty-num qty type_one" value="@if(!empty($result['cart'])) {{$result['cart'][0]->customers_basket_quantity}} @else @if($result['detail']['product_data'][0]->products_min_order>0 and $result['detail']['product_data'][0]->defaultStock > $result['detail']['product_data'][0]->products_min_order) {{$result['detail']['product_data'][0]->products_min_order}} @else 1 @endif @endif" min="{{$result['detail']['product_data'][0]->products_min_order}}" max="9999999">
                 @endif

                @elseif($result['detail']['product_data'][0]->products_type == 3 || $result['detail']['product_data'][0]->products_type == 4)

                  <?php

                    $inventory_ref_id = '';
                    $products_id = $result['detail']['product_data'][0]->products_id;
                    $productsType = DB::table('products')->join('product_combo','product_combo.product_id','=','products.products_id')->where('product_combo.pro_id', $products_id)->get();

                    $resattributes = array();
                    foreach($productsType as $proCType){
                      if($proCType->attractive_id !=0){
                        $resattributes[] = $proCType->attractive_id;
                      }
                    }


                    // Normal Product stocks

                    $norstocks = array();
                    foreach($productsType as $proCType){
                      if($proCType->products_type == 0) { 

                        $stocksin = DB::table('inventory')->where('products_id', $proCType->product_id)->where('stock_type', 'in')->sum('stock');
                        $stockOut = DB::table('inventory')->where('products_id', $proCType->product_id)->where('stock_type', 'out')->sum('stock');
                        $norstocks[] = $stocksin - $stockOut;

                      }
                    }
                    $workArray = implode(",", $norstocks);
                    $array = explode(',', $workArray);
                    $NorStock = min($array);

                    // Variable Product stocks

                    $stocks = array();
                    $VarStock = '';
                    foreach($productsType as $proCType){
                      $attrcount = DB::table('products_attributes')->where('products_id', $proCType->product_id)->get();
                      $acount = count($attrcount);

                      if ($proCType->products_type == 1 && $acount > 0) {

                        $attributes = array_filter($resattributes);
                        $attributeid = implode(',', $attributes);

                        $postAttributes = count($attributes);

                        $inventories = DB::table('inventory')->where('products_id', $proCType->product_id)->get();
                        $reference_ids = array();
                        
                        $stockIn = 0;
                        foreach ($inventories as $inventory) {

                            $totalAttribute = DB::table('inventory_detail')->where('inventory_detail.inventory_ref_id', '=', $inventory->inventory_ref_id)->get();
                            $totalAttributes = count($totalAttribute);

                            if ($postAttributes > $totalAttributes) {
                                $count = $postAttributes;
                            } elseif ($postAttributes < $totalAttributes or $postAttributes == $totalAttributes) {
                                $count = $totalAttributes;
                            }


                            $individualStock = DB::table('inventory')->leftjoin('inventory_detail', 'inventory_detail.inventory_ref_id', '=', 'inventory.inventory_ref_id')
                                ->selectRaw('inventory.*')
                                ->whereIn('inventory_detail.attribute_id', [$attributeid])
                                ->where(DB::raw('(select count(*) from `inventory_detail` where `inventory_detail`.`attribute_id` in (' . $attributeid . ') and `inventory_ref_id`= "' . $inventory->inventory_ref_id . '")'), '=', $count)
                                ->where('inventory.inventory_ref_id', '=', $inventory->inventory_ref_id)
                                ->groupBy('inventory_detail.inventory_ref_id')
                                ->get();

                            if (count($individualStock) > 0) {
                                $inventory_ref_id = $individualStock[0]->inventory_ref_id;
                                $stockIn += $individualStock[0]->stock;
                            }
                            
                        }

                        $options_names = array();
                        $options_values = array();
                        foreach ($resattributes as $attribute) {
                            $productsAttributes = DB::table('products_attributes')
                                ->leftJoin('products_options', 'products_options.products_options_id', '=', 'products_attributes.options_id')
                                ->leftJoin('products_options_values', 'products_options_values.products_options_values_id', '=', 'products_attributes.options_values_id')
                                ->select('products_attributes.*', 'products_options.products_options_name as options_name', 'products_options_values.products_options_values_name as options_values')
                                ->where('products_attributes_id', $attribute)->get();

                            $options_names[] = $productsAttributes[0]->options_name;
                            $options_values[] = $productsAttributes[0]->options_values;
                        }

                        $options_names_count = count($options_names);
                        $options_names = implode("','", $options_names);
                        $options_names = "'" . $options_names . "'";
                        $options_values = "'" . implode("','", $options_values) . "'";
                        

                        //orders products
                        $orders_products = DB::table('orders_products')->where('products_id', $proCType->product_id)->get();
                        $stockOut = 0;
                        foreach ($orders_products as $orders_product) {
                            $totalAttribute = DB::table('orders_products_attributes')->where('orders_products_id', '=', $orders_product->orders_products_id)->get();
                            $totalAttributes = count($totalAttribute);

                            if ($postAttributes > $totalAttributes) {
                                $count = $postAttributes;
                            } elseif ($postAttributes < $totalAttributes or $postAttributes == $totalAttributes) {
                                $count = $totalAttributes;
                            }

                            $products = DB::select("select orders_products.* from `orders_products` left join `orders_products_attributes` on `orders_products_attributes`.`orders_products_id` = `orders_products`.`orders_products_id` where `orders_products`.`products_id`='" . $proCType->product_id . "' and `orders_products_attributes`.`products_options` in (" . $options_names . ") and `orders_products_attributes`.`products_options_values` in (" . $options_values . ") and (select count(*) from `orders_products_attributes` where `orders_products_attributes`.`products_id` = '" . $proCType->product_id . "' and `orders_products_attributes`.`products_options` in (" . $options_names . ") and `orders_products_attributes`.`products_options_values` in (" . $options_values . ") and `orders_products_attributes`.`orders_products_id`= '" . $orders_product->orders_products_id . "') = " . $count . " and `orders_products`.`orders_products_id` = '" . $orders_product->orders_products_id . "' group by `orders_products_attributes`.`orders_products_id`");

                            if (count($products) > 0) {
                                $stockOut += $products[0]->products_quantity;
                            }
                        }
                        $stocks[] = $stockIn - $stockOut;
                      } 
                    }

                    $VarworkArray = implode(",", $stocks);
                    $Vararray = explode(',', $VarworkArray);
                    $VarStock = min($Vararray);


                    if($NorStock >= $VarStock ){
                      $totalStock = $VarStock;
                    } else if($NorStock <= $VarStock){
                      $totalStock = $NorStock;
                    } else {
                      $totalStock = 1;
                    }
                  ?>

@if($result['detail']['product_data'][0]->stock_status == 1)
                  <input type="text" readonly name="quantity" class="modal-5-qty-num qty type_one" value="@if(!empty($result['cart'])){{$result['cart'][0]->customers_basket_quantity}}@else @if($result['detail']['product_data'][0]->products_min_order>0 and $totalStock > $result['detail']['product_data'][0]->products_min_order){{$result['detail']['product_data'][0]->products_min_order}}@else{{ $result['detail']['product_data'][0]->products_min_order }}@endif @endif" 
              
                  min="@if($result['detail']['product_data'][0]->products_min_order>0 and $totalStock > $result['detail']['product_data'][0]->products_min_order){{$result['detail']['product_data'][0]->products_min_order}}@else{{ $result['detail']['product_data'][0]->products_min_order }}  @endif" 
                  
                  max="@if(!empty($result['detail']['product_data'][0]->products_max_stock) and $result['detail']['product_data'][0]->products_max_stock>0 and $totalStock >$result['detail']['product_data'][0]->products_max_stock){{ $result['detail']['product_data'][0]->products_max_stock}}@else{{ $totalStock }}@endif">
                  
                @else

                  <input type="text" readonly name="quantity" class="modal-5-qty-num qty type_one" value="@if(!empty($result['cart'])) {{$result['cart'][0]->customers_basket_quantity}} @else @if($result['detail']['product_data'][0]->products_min_order>0 and $result['detail']['product_data'][0]->defaultStock > $result['detail']['product_data'][0]->products_min_order) {{$result['detail']['product_data'][0]->products_min_order}} @else 1 @endif @endif" min="{{$result['detail']['product_data'][0]->products_min_order}}" max="{{$result['detail']['product_data'][0]->products_max_stock}}">

              @endif

              @else

<input type="text" readonly name="quantity" class="modal-5-qty-num qty type_one" value="@if(!empty($result['cart'])) {{$result['cart'][0]->customers_basket_quantity}} @else @if($result['detail']['product_data'][0]->products_min_order>0 and $result['detail']['product_data'][0]->defaultStock > $result['detail']['product_data'][0]->products_min_order) {{$result['detail']['product_data'][0]->products_min_order}} @else 1 @endif @endif" min="{{$result['detail']['product_data'][0]->products_min_order}}" max="999999">

@endif

                <button type="button" class="modal-5-qty-adjust  quantity-minus1 btn qtyminus modal-5-qty-adjust-minus" aria-label="Reduce item quantity by one">
                  <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-minus" viewBox="0 0 64 64"><path class="modal-5-cls-1" d="M55 32H9"></path></svg>
                    <span class="modal-5-icon-fallback-text" aria-hidden="true">−</span>
                </button>
                <button type="button" class="modal-5-qty-adjust quantity-plus1 btn qtyplus modal-5-qty-adjust-plus" aria-label="Increase item quantity by one">
                  <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-plus" viewBox="0 0 64 64"><path class="modal-5-cls-1" d="M32 9v46m23-23H9"></path></svg>
                  <span class="modal-5-icon-fallback-text" aria-hidden="true">+</span>
                </button>
              </div>
            </div>
          </div>

          @if($result['commonContent']['setting'][226]->value == 2)
              <?php
                $res = $result['commonContent']['setting']['227']->value;
                $time = explode('-',$res);
                $startTime = strtotime($time[0]);
                $endTime = strtotime($time[1]);
                $currentTime = time();
              ?>
              @if($currentTime >= $startTime && $currentTime <= $endTime)
                <?php $ck = 0 ?>
              @else
                <?php $ck = 1; ?>
              @endif
            @else
              <?php $ck = 0; ?>
            @endif      

            @if($ck == 0)

              @if($result['detail']['product_data'][0]->button_type == 1 || $result['detail']['product_data'][0]->button_type == 3)

                @if(!empty($result['detail']['product_data'][0]->flash_start_date) and $result['detail']['product_data'][0]->server_time < $result['detail']['product_data'][0]->flash_start_date )
                  @else
                    @if($result['detail']['product_data'][0]->products_type == 0)
                    @if($result['commonContent']['settings']['Inventory'])
                    @if($result['detail']['product_data'][0]->stock_status == 1)
                        @if($result['detail']['product_data'][0]->defaultStock <= 0)
                        <div  style="margin-bottom:15px;"><span style="color:red;">OUT OF STOCK  </span> NOTIFY ME WHEN IT BECOMES AVAILABLE</div>
                            <button class="btn btn-lg swipe-to-top modal-5-new-cartbtn btn-danger " data-toggle="modal" data-target="#notifyModal" type="button">@lang('website.notify')</button>
                        @else
                            <button class="btn btn-secondary btn-lg modal-5-new-cartbtn swipe-to-top add-to-Cart"  type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>
                        @endif
                        @else
                            <button class="btn btn-secondary btn-lg modal-5-new-cartbtn swipe-to-top add-to-Cart"  type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>
                        @endif
                    @else
                    <button class="btn btn-secondary btn-lg modal-5-new-cartbtn swipe-to-top add-to-Cart"  type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>
                    @endif
                    @elseif($result['detail']['product_data'][0]->products_type == 1)
                          @if($result['commonContent']['settings']['Inventory'])
                          @if($result['detail']['product_data'][0]->stock_status == 1)
                          <button class="btn btn-secondary btn-lg modal-5-new-cartbtn swipe-to-top  add-to-Cart stock-cart" hidden type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>
                          <div class="stock-out-cart" hidden style="margin-bottom:15px;"><span style="color:red;">OUT OF STOCK  </span> NOTIFY ME WHEN IT BECOMES AVAILABLE</div>
                          <button class="btn btn-danger modal-5-new-cartbtn btn btn-lg swipe-to-top  stock-out-cart" data-toggle="modal" data-target="#notifyModal" hidden type="button">@lang('website.notify')</button>
                          @else
                          <button class="btn btn-secondary modal-5-new-cartbtn btn-lg swipe-to-top  add-to-Cart"  type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>
                          @endif
                          @else
                          <button class="btn btn-secondary modal-5-new-cartbtn btn-lg swipe-to-top  add-to-Cart"  type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>
                          @endif
                    @endif
                  @endif

                  @if($result['detail']['product_data'][0]->products_type == 2)
                    <a href="{{$result['detail']['product_data'][0]->products_url}}" target="_blank" class="btn btn-secondary btn-lg modal-5-new-cartbtn swipe-to-top">@lang('website.External Link')</a>
                  @endif

                  @if($result['detail']['product_data'][0]->products_type == 3)

                    <?php
                      $stocks = 0;
                      $stockarray = [];

                      $comboPro = DB::table('product_combo')->where('pro_id', $result['detail']['product_data'][0]->products_id)->get();

                      foreach($comboPro as $key=>$comboProd){

                          $stocksin = DB::table('inventory')->where('products_id', $comboProd->product_id)->where('stock_type', 'in')->sum('stock');
                          $stockOut = DB::table('inventory')->where('products_id', $comboProd->product_id)->where('stock_type', 'out')->sum('stock');
                          $stocks = $stocksin - $stockOut;
                          $stockarray[$key] = $stocks;
                          //print_r($stockarray);

                      }
                    ?>

                        @if($result['commonContent']['settings']['Inventory'])
                        @if($result['detail']['product_data'][0]->stock_status == 1)
                          @if(in_array('0',$stockarray))

                          <div  style="margin-bottom:15px;"><span style="color:red;">OUT OF STOCK  </span> NOTIFY ME WHEN IT BECOMES AVAILABLE</div>
                            <button class="btn btn-lg swipe-to-top modal-5-new-cartbtn btn-danger " data-toggle="modal" data-target="#notifyModal" type="button">@lang('website.notify')</button>

                        @else

                        <button class="btn btn-secondary btn-lg modal-5-new-cartbtn swipe-to-top add-to-Cart"  type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>

                        @endif
                        @else

<button class="btn btn-secondary btn-lg modal-5-new-cartbtn swipe-to-top add-to-Cart"  type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>

@endif
                    @else

                    <button class="btn btn-secondary btn-lg modal-5-new-cartbtn swipe-to-top add-to-Cart"  type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>

                    @endif   
                  @endif   


                  @endif  
                  
                  
                  @if($result['detail']['product_data'][0]->products_type == 4)

                    <?php
                      $stocks = 0;
                      $stockarray = [];

                      $comboPro = DB::table('product_buy_x')->where('pro_id', $result['detail']['product_data'][0]->products_id)->get();

                      foreach($comboPro as $key=>$comboProd){

                          $stocksin = DB::table('inventory')->where('products_id', $comboProd->product_id)->where('stock_type', 'in')->sum('stock');
                          $stockOut = DB::table('inventory')->where('products_id', $comboProd->product_id)->where('stock_type', 'out')->sum('stock');
                          $stocks = $stocksin - $stockOut;
                          $stockarray[$key] = $stocks;
                          //print_r($stockarray);

                      }


                   $stocksgetx = 0;
                      $stockarraygetx = [];

                      $comboProgetx = DB::table('product_get_x')->where('pro_id', $result['detail']['product_data'][0]->products_id)->get();

                      foreach($comboProgetx as $key=>$comboProdgetx){

                          $stocksin = DB::table('inventory')->where('products_id', $comboProdgetx->product_id)->where('stock_type', 'in')->sum('stock');
                          $stockOut = DB::table('inventory')->where('products_id', $comboProdgetx->product_id)->where('stock_type', 'out')->sum('stock');
                          $stocksgetx = $stocksin - $stockOut;
                          $stockarraygetx[$key] = $stocksgetx;
                          //print_r($stockarraygetx);
                      }
                      

                    ?>

                        @if($result['commonContent']['settings']['Inventory'])
                        @if($result['detail']['product_data'][0]->stock_status == 1)
                          @if((in_array('0',$stockarray)) || (in_array('0',$stockarraygetx)))

                          <div  style="margin-bottom:15px;"><span style="color:red;">OUT OF STOCK  </span> NOTIFY ME WHEN IT BECOMES AVAILABLE</div>
                            <button class="btn btn-lg swipe-to-top modal-5-new-cartbtn btn-danger " data-toggle="modal" data-target="#notifyModal" type="button">@lang('website.notify')</button>

                        @else

                        <button class="btn btn-secondary btn-lg modal-5-new-cartbtn swipe-to-top add-to-Cart"  type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>

                        @endif
                        @else

                        <button class="btn btn-secondary btn-lg modal-5-new-cartbtn swipe-to-top add-to-Cart"  type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>

                        @endif
                    @else

                    <button class="btn btn-secondary btn-lg modal-5-new-cartbtn swipe-to-top add-to-Cart"  type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>

                    @endif   


                  @endif  

@if($result['detail']['product_data'][0]->button_type == 2)
<button type="button" class="btn btn-secondary btn-lg swipe-to-top modal-5-new-cartbtn modal_show3" products_id="{{$result['detail']['product_data'][0]->products_id}}"  products_name="{{$result['detail']['product_data'][0]->products_name}}" >Book Appointment</button>
@endif
@if($result['detail']['product_data'][0]->button_type == 4)@endif
                
        @endif
          </div>

          
        </form>

   

                    
                </div> 
            </div>
        </div> 
        
        
      </div>

    </div>
    </div>
  </div>
  @endif
</section>


<script>
  jQuery('.slider-for-vertical5').slick({
  slidesToShow: 1,
  slidesToScroll: 1,
  arrows: false,
  infinite: false,
  draggable: false,
  fade: true,
  asNavFor: '.slider-nav-vertical5'
});
jQuery('.slider-nav-vertical5').slick({
  dots: false,
  arrows: true,
  vertical: true,
  asNavFor: '.slider-for-vertical5',
  slidesToShow: 3,
  infinite: false,
   //centerMode: true,
   prevArrow: '<button type="button" class="slick-prev"><i class="fa fa-angle-up"></i></button>',
		nextArrow: '<button type="button" class="slick-next"><i class="fa fa-angle-down"></i></button>',
  slidesToScroll: 1,
  verticalSwiping: true,
  focusOnSelect: true
});

@if(!empty($result['detail']['product_data'][0]->products_type) and $result['detail']['product_data'][0]->products_type==1)
  getQuantity();
  cartPrice();
@endif

//reju check
jQuery(document).ready(function() {
  @if(!empty($result['detail']['product_data'][0]->attributes))
    @foreach( $result['detail']['product_data'][0]->attributes as $key=>$attributes_data )
  @php
    $functionValue = 'attributeid_'.$key;
    $attribute_sign = 'attribute_sign_'.$key++;
  @endphp

  //{{ $functionValue }}();
  function {{ $functionValue }}(){
      var value_price = jQuery('option:selected', ".{{$functionValue}}").attr('value_price');
      jQuery("#{{ $functionValue }}").val(value_price);
    }
    //change_options
  jQuery(document).on('change', '.{{ $functionValue }}', function(e){

        var {{ $functionValue }} = jQuery("#{{ $functionValue }}").val();

        var old_sign = jQuery("#{{ $attribute_sign }}").val();

        var value_price = jQuery('option:selected', this).attr('value_price');
        var prefix = jQuery('option:selected', this).attr('prefix');
        var current_price = jQuery('#products_price').val();
        var {{ $attribute_sign }} = jQuery("#{{ $attribute_sign }}").val(prefix);

        if(old_sign.trim()=='+'){
          var current_price = current_price - {{ $functionValue }};
        }

        if(old_sign.trim()=='-'){
          var current_price = parseFloat(current_price) + parseFloat({{ $functionValue }});
        }

        if(prefix.trim() == '+' ){
          var total_price = parseFloat(current_price) + parseFloat(value_price);
        }
        if(prefix.trim() == '-' ){
          total_price = current_price - value_price;
        }

        jQuery("#{{ $functionValue }}").val(value_price);
        jQuery('#products_price').val(total_price);
        var qty = jQuery('.qty').val();
        var products_price = jQuery('#products_price').val();
        var total_price = qty * products_price * <?=session('currency_value')?>;//pro-price
        //jQuery('.total_price').html('<?=Session::get('symbol_left')?>'+total_price.toFixed(2)+'<?=Session::get('symbol_right')?>');
        jQuery('.get_att_amount').html('<?=Session::get('symbol_left')?>'+total_price.toFixed(2)+'<?=Session::get('symbol_right')?>');
        //alert(total_price);
        
  });
  @endforeach
  getQuantity();
  //calculateAttributePrice();
  function calculateAttributePrice(){
    var products_price = jQuery('#products_price').val();
    jQuery(".currentstock").each(function() {
      var value_price  = jQuery('option:selected', this).attr('value_price');
      var prefix = jQuery('option:selected', this).attr('prefix');

      if(prefix.trim()=='+'){
        products_price = products_price - value_price;
      }

      if(prefix.trim()=='-'){
        products_price = products_price - value_price;
      }

    });
    jQuery('#products_price').val(products_price);
    jQuery('.total_price').html('<?=Session::get('symbol_left')?>'+products_price.toFixed(2)+'<?=Session::get('symbol_right')?>');
  }

  @endif

});
</script>
