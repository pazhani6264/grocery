<style>
  .detail-10-outer-pad
  {
    padding: 0 40px;
  }
  .slick-vertical .slick-slide {
    display: block;
    height: auto;
    border: 1px solid #ccc;
}
  .pro-content .slider-nav-vertical .slick-arrow {
    display: none !important;
}
  .detail-10-breadcrumb-outer-pad
  {
    padding:0;
  }
  .detail-10-breadcrumb-background
  {
    background-color:#fff !important;
    margin: 0 0 10px;
  }
  .detail-10-breadcrumb-divider {
    color: #000;
    opacity: .2;
    padding: 0 5px;
}
.detail-10-pro-title
{
  font-size:27px;
  margin-bottom:10px !important;
  padding:0 !important;
  line-height: 1.1 !important;
  word-wrap: break-word;
}
.detail-10-pro-title-outer
{
  margin-bottom:30px !important;
}
.disabled-ratings > label:before {
    margin: 5px 2px !important;
}
.product-page .pro-rating .btn-link {
    margin-left: 5px !important;
}

.detail-10-product-single {
    padding-top: 65px;
    padding-left: 45px;
   
}
.detail-10-pro-content
{
  padding-top:40px !important;
}
.detail-10-product-price-outer {
    margin-bottom: 30px;
}
.detail-10-product-price-label
{
  font-weight: 700;
  font-size: 15px;
  display: block;
  margin-bottom: 10px;
  cursor: default;
}
.detail-10-product-price-orginal {
    padding-right: 5px;
    display: inline-block;
    text-decoration: line-through;
    font-size:20px;
}
.detail-10-product-price-discount {
    padding-right: 5px;
    display: inline-block;
    font-size:20px;
}
.detail-10-product-price-savings {
    padding-right: 5px;
    display: inline-block;
    color: #e2183d;
    font-size: 14px;
}
.a2a_label {
    position: absolute!important;
    height: 6px;
    width: 1px;
    color: #000;
    margin-left: 10px;
    margin-top: 5px;
    clip-path: unset;
    -webkit-clip-path: unset;
    overflow: unset;
}
.a2a_default_style:not(.a2a_flex_style) a {
    width: 120px;
}
.a2a_s__default 
{
  background-color: #000 !important;
    border-radius: 50% !important;
}
.a2a_svg {
    height: 22px !important;
    width: 22px !important;
}
.detail-10-margin-bottom-30
{
  margin-bottom:30px;
}
.a2a_svg svg {
    width: 20px !important;
    height: 20px !important;
}
.detail-10-marign-30
{
  margin:30px 0;
}
.detail-10-sales-points {
    list-style: none;
    padding: 0;
    margin: 0;
}
.detail-10-icon-and-text {
    display: flex;
    flex-wrap: nowrap;
    align-items: center;
}
.detail-10-sales-point .detail-10-icon {
    position: relative;
    width: 25px;
    height: 25px;
    margin-right: 10px;
}
.detail-10-icon-and-text .detail-10-icon {
    flex: 0 0 auto;
}
.detail-10-icon-inventory:before {
    animation: inventory-pulse 2s linear infinite;
}
.detail-10-icon-inventory:after, .detail-10-icon-inventory:before {
    width: 9px;
    height: 9px;
    background: #54c63a;
    border-radius: 9px;
    position: absolute;
    left: 0;
    top: 0;
    content: "";
    margin: 8px;
}

.detail-10-product-quantity-label {
    font-weight: 700;
    font-size: 15px;
    display: block;
    margin-bottom: 10px;
}

.detail-10-qty-wrapper {
    display: inline-block;
    position: relative;
    max-width: 70px;
    min-width: 60px;
    overflow: visible;
    background-color: #fff;
    color: #000;
}
.detail-10-qty-num {
    display: block;
    background: none;
    text-align: center;
    width: 100%;
    padding: 5px 20px;
    margin: 0;
    border: 1px solid;
    border-color: #e8e8e1;
    max-width: 100%;
    border-radius: 0;
}
.detail-10-qty-adjust:hover {
    background-color: #f2f2f2;
    color: #000;
}
.detail-10-qty-adjust {
    cursor: pointer;
    position: absolute;
    display: block;
    top: 0;
    bottom: 0;
    border: 0 none;
    background: none;
    text-align: center;
    overflow: hidden;
    padding: 0 10px;
    line-height: 1;
    -webkit-user-select: none;
    user-select: none;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    transition: background-color .1s ease-out;
    z-index: 1;
    fill: #000;
}
.detail-10-review-bottom {
    font-size: 14px;
    line-height: 2;
}
.detail-10-qty-adjust-minus {
    left: 0;
}
.detail-10-qty-adjust-plus {
    right: 0;
}
.detail-10-qty-adjust .icon {
    display: block;
    font-size: 8px;
    vertical-align: middle;
    width: 10px;
    height: 10px;
    fill: inherit;
}
.detail-10-icon-fallback-text {
    clip: rect(0,0,0,0);
    overflow: hidden;
    position: absolute;
    height: 1px;
    width: 1px;
}
.detail-10-cls-1 {
    fill: none;
    stroke: #000;
    stroke-miterlimit: 10;
    stroke-width: 5px;
}
.detail-10-new-cartbtn {
    width: 100%;
    min-height: 54px;
    border-radius: 3px;
}

.detail-10-para-hide {
  display: none;
}

button {
  background: transparent;
  outline: none;
  border: none;
  transition: .3s ease;
  cursor: pointer;
}

button i {
  font-size: 1rem;
  transition: .3s ease;
}

.detail-10-rotate {
  transform: rotate(180deg);
}

.detail-10-accordion {
  background: transparent;
  margin-bottom: 0.5rem;
  transition: .3s ease;
}

button.detail-10-btn-toggle-show {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  background: transparent;
  transition: .3s ease;
  border-bottom: solid 0.5px #ddd;
}

button.detail-10-btn-toggle-show:hover {
  background: transparent;
}
.detail-10-accordion-outer
{
  margin-top:40px;
  max-width: 700px;
  padding: 0 40px;
}
.detail-10-trigger-btn {
    text-align: left;
    display: block;
    width: 100%;
    padding: 15px 0;
    font-weight: 700;
    font-size: 17px;
}

button.detail-10-btn-toggle-show span {
    color: #333333;
    font-size: 1rem;
    font-weight: 700;
}



.detail-10-accordion:last-child {
    margin: 0;
}

.detail-10-tab {
  overflow: hidden;
}
.detail-10-tab button {
  float: right;
  border: none;
  outline: none;
  cursor: pointer;
  padding: 15px;
  font-size: 14px;

  border: 1px solid rgb(0, 0, 0);
    padding: 5px 10px;
    text-align: center;
    display: inline-block;
    color: rgb(0, 0, 0);
}
.detail-10-tab button:hover {

}
.detail-10-tab button.active {

}
#detail-10-One
{
  margin-left:8px;
}
.detail-10-header-title
{
  margin-bottom:8px;
}
.detail-10-tabcontent {
    display: none;
    padding: 5px 15px 5px 15px;
    border-top: none;
}

.detail-10-tab-summary-outer{
    display: inline-block;
   
    vertical-align: top;
}
.detail-10-display-inline
{
  display: inline-block;
}
.detail-10-tab-history-outer
{
  display: inline-block;
    
}
.detail-10-histogram-bar {
    position: relative;
    display: inline-block;
    width: 120px;
    height: 14px;
    margin: 0 2px 0 4px;
    vertical-align: middle;
    box-shadow: inset 0 0 1px #666;
}
.detail-10-histogram-bar-content {
    height: 100%;
    font-size: 9px;
    line-height: 16px;
    background: #fbcd0a;
    box-shadow: inset 0 0 1px #888;
    -webkit-transition: width .3s ease;
    transition: width .3s ease;
}
.detail-10-histogram-row {
    height: 16px;
    line-height: 16px;
    margin-bottom: 5px;
    cursor: pointer;
    white-space: nowrap;
}
.detail-10-histogram-bar:after {
    content: ' ';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 0;
    background: #fbcd0a;
    opacity: 0.3;
    transition: width 0.35s ease;
}
.detail-10-histogram-percentage {
    display: inline-block;
    width: 32px;
    vertical-align: middle;
}
.detail-10-histogram-frequency {
    display: inline-block;
    margin-left: 3px;
    vertical-align: middle;
}
.detail-10-histogram {
    
    padding: 4px 16px;
    margin: 0 24px;
    font-size: 12px;
    border-left: 1px solid #eee;
    border-right: 1px solid #eee;
}
.detail-10-histogram-star
{
  display: inline-block;
    vertical-align: middle;
}
.detail-10-histogram-star > label:before {
    margin: 5px 2px !important;
}
.detail-10-histogram-star label.actives {
    color: #cac9c8;
}
.detail-10-histogram-star > label:before {
    margin: 5px;
    font-size: 14px;
    font-family: "Font Awesome 5 Free";
    display: inline-block;
    content: "\F005";
}

.detail-10-form-wrapper .labelrate {
    display: inline-block;
    margin: 20px 0 5px 0;
    width: auto;
    line-height: 1;
    font-weight: 700;
    font-size: 15px;
}

.detail-10-histogram-star label.active {
    color: #fac451;
}
.detail-10-histogram-star > label {
    float: right !important;
}

.detail-10-question-form-wrapper, .detail-10-form-wrapper {
    margin-top: 16px;

}
.detail-10-form-wrapper input:not([type='submit']) {
    width: 100%;
    min-height: 2em;
    margin: 0;
    border: 1px solid #ddd;
    padding: 8px 10px;
}
.detail-10-question-form-wrapper input:not([type='submit']) {
    width: 100%;
    min-height: 2em;
    margin: 0;
    border: 1px solid #ddd;
    padding: 8px 10px;
}
.detail-10-form-title-fieldset>label, .detail-10-form-body-fieldset>label, .detail-10-form-name-fieldset>label {
    display: inline-block;
    margin-right: 3px;
    width: auto;
}
 .detail-10-picture-fieldset-input {
    position: absolute;
    display: inline-block;
    width: 100%;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    opacity: 0;
    padding: 0;
    margin: 0;
    font-size: 14px;
    visibility: visible;
    cursor: pointer;
}
.detail-10-form-wrapper label {
    display: block;
    width: 100%;
    margin: 20px 0 5px 0;
    line-height: 1;
    font-weight: 700;
    font-size:  15px;
}
.detail-10-form-wrapper textarea {
    width: 100%;
    border: 1px solid #ddd;
    padding: 8px 10px;
}

.detail-10-question-form-wrapper label {
    display: block;
    width: 100%;
    margin: 20px 0 5px 0;
    line-height: 1;
    font-weight: 700;
    font-size:  15px;
}
.detail-10-question-form-wrapper textarea {
    width: 100%;
    border: 1px solid #ddd;
    padding: 8px 10px;
}
.detail-10-picture-fieldset-title {
    margin: 20px 0 5px;
    line-height: 1;
}
.detail-10-picture-fieldset {
    width: 100%;
    padding: 0;
    white-space: nowrap;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
}
.detail-10-picture-fieldset-box {
    position: relative;
    display: inline-block;
    cursor: pointer;
    margin: 0 5px 0 0;
    padding: 0;
    width: 30%;
    max-width: 150px;
    min-width: 90px;
}
.detail-10-picture-fieldset-box-wrapper {
    position: relative;
    padding-bottom: 100%;
    padding-bottom: calc(100% - 2px);
    border: 1px solid #eee;
    width: 100%;
    height: 0;
    background-repeat: no-repeat;
    background-size: contain;
    background-position: center;
}
.detail-10-picture-fieldset-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    -webkit-transform: translateX(-50%) translateY(-50%);
    -ms-transform: translateX(-50%) translateY(-50%);
    transform: translateX(-50%) translateY(-50%);
    color: #bbb;
    font-family: "Font Awesome 5 Free";
    font-weight: 900;
    font-size: 72px;
    line-height: 1;
}
.detail-10-photocamera-icon:before {
    content: '\F030';
}
.detail-10-videocam-icon:before {
    content: '\F03D';
}
.jdgm-star.jdgm--on:before {
  font-family: "Font Awesome 5 Free";
    display: inline-block;
    content: "\F005";
}
:not(.jdgm-prev-badge__stars)>.jdgm-star {
    color: #f4d400;
}
.jdgm-star {
  color: #f4d400;
}
.jdgm-star:hover {
    opacity: 1;
}
.detail-10-submit-question, .detail-10-submit-rev {
    margin-top: 11px;
    line-height: 1.42;
    text-decoration: none;
    text-align: center;
    white-space: normal;
    font-size: 16px;
    font-weight: 700;
    display: inline-block;
    padding: 11px 25px;
    margin: 0;
    width: auto;
    min-width: 90px;
    vertical-align: middle;
    cursor: pointer;
    border: 1px solid transparent;
    -webkit-user-select: none;
    user-select: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    border-radius: 3px;
    color: #fff;
    background: #ff6128;
}
.detail-10-notification {
    color: green;
    font-weight: bold;
    border-top: 1px solid #eee;
    padding-top: 16px;
    margin-top: 16px;
}
.slider-nav-vertical {
    float: left;
    width: 80px !important;
    margin-top: 0;
    margin-right: 15px;
    
}
.pro-content .slider-nav-vertical .slick-slide {
    width: 80px !important;
    margin-bottom: 15px;
}
.pro-content .slider-nav-vertical .slick-current {
    border:solid 2px;
}
.slider-wrapper .slider-nav-vertical img {
    width: 100%;
    height: 100% !important;
}
.slider-for-vertical {
    float: right;
    width: 84%;
    padding-left: 0;
    border: solid 1px #ddd;
    height: 530px;
    overflow: hidden;
}
.slider-for-vertical .slick-track
{
  width: 100% !important;
}
.slider-for-vertical .slick-slide {
  display: none;
}
.slider-for-vertical .slick-slide.slick-current {
  width: 100% !important;
  padding: 8px !important;
  left:0 !important;
  cursor: zoom-in;
  display: block !important;
}
.slider-for-vertical .slick-list .slick-track .slick-slide img {
    height: 100% !important;
    object-fit: contain;
}
.slider-nav-vertical .slick-list
{
  height: 500px !important;
}
.fancybox-opened {
    z-index: 8030;
    width: 100% !important;
    left: 0 !important;
    top: 0 !important;
    height: 100vh !important;
    background: #fff;
}
.fancybox-inner {
    overflow: hidden;
    width: 700px !important;
    height: 630px !important;
    margin: auto;
}
.fancybox-nav span {
    position: absolute;
    top: 0% !important;
    visibility: visible;
    margin-top: 0px !important;
}
.fancybox-next  {
    right: 42% !important;
}
.fancybox-prev  {
    left: 42% !important;
}
.fancybox-close {
    top: unset !important;
    right: 49% !important;
    bottom: 5% !important;
}

.fancybox-prev span {
    left: 0px !important;
}
.fancybox-opened .fancybox-skin {
    box-shadow: unset !important; 
    padding:0 !important;
}
.fancybox-nav {
    bottom: 5% !important;
    width: 36px !important;
    height: 36px !important;
    top: 90%;
    margin-top: -3px;
}
.detail-10-image-desktop
  {
    display: block;
  }
  .detail-10-image-mobile
  {
    display: none;
  }
.detail-10-image-mobile .slick-slide {
    display: block;
    border: solid 1px #ddd;
    margin: 5px;
    padding: 0;
}
.note--success {
    color: #56ad6a;
    background-color: #ecfef0;
    border-color: #56ad6a;
}
@media only screen and (max-width: 1150px)
{
  .slider-for-vertical {
    width: 79%;
    height: 370px;
}
.a2a_default_style:not(.a2a_flex_style) a {
    width: 105px;
}
.detail-10-product-single {
    height: 370px;
    overflow-y: auto;
}



}
@media only screen and (max-width: 768px)
{
  .detail-10-image-desktop
  {
    display: none;
  }
  .detail-10-image-mobile
  {
    display: block;
  }
  .detail-10-image-mobile .slick-dots li button {
    position: relative;
    width: 6px !important;
    height: 6px !important;
    transition: unset;
    margin: 0;
    border: unset !important;
    outline: none;
    border-radius: 50%;
    padding: 0;
    background: #ddd;
}
.detail-10-image-mobile .slick-dots li button::after {
    left: 0;
    width: 9px !important;
   
}
.detail-10-image-mobile .slick-dots .slick-active button::after {
    left: 0;
    width: 9px !important;
    height: 9px !important;
   
}

  .detail-10-image-mobile .slick-list
  {
    padding: 0 100px !important;
  }
  .detail-10-product-single {
    height: auto;
   padding: 0;
   margin-top:0 !important; 
   overflow:hidden;
}
.detail-10-pro-title {
    padding: 0 32px !important;
}
.detail-10-breadcrumb-background {
    padding: 0 32px;
}
.detail-10-outer-pad {
    padding: 0; 
}
.detail-10-new-cartbtn {
    width: 92%;
    margin: 0 32px;
}
.detail-10-margin-bottom-30 {
    padding: 0 32px;
}
.detail-10-product-single .pro-options {
    padding: 0 32px;
}
.detail-10-product-price-outer {
    padding: 0 32px;
}
.detail-10-marign-30 {
    padding: 0px 32px;
}
.search-fancy-detail-10
{
  position: relative;
}
.search-fancy-detail-10-btn {
    position: absolute;
    bottom: 0;
    right: 0;
    margin-right: 10px;
    margin-bottom: 10px;
    box-shadow: 0 3px 6px #00000026;
    padding: 8px 10px;
    border-radius: 50%;
    cursor: zoom-in;
    width: 36px;
    height: 36px;
    font-size: 15px;
}
.detail-10-accordion-outer {
    padding: 0;
}
button.detail-10-btn-toggle-show {
   padding:15px;
}
#detail-10-One {
    margin-left: 0px;
    margin-top: 10px;
}
.detail-10-tab button {
    float: unset; 
    font-size:12px;
    width: 100%;
    margin: 5px 0;
}
.detail-10-header-title {
    font-size: 20px;
}
.detail-10-review-bottom {
    font-size: 12px;
    line-height: 2;
    margin: 5px 0;
    display: block !important;
}
.detail-10-inner-content
{
    padding: 0 17px;
}
.detail-10-question-form-wrapper label {
    
    font-size: 12px;
}
.detail-10-form-wrapper label {
    font-size: 12px;
}
.detail-10-tabcontent {
    padding: 0px;
    padding-top: 10px;
}

.detail-10-submit-question, .detail-10-submit-rev {
  font-size:12px;
}
}

@media only screen and (max-width: 576px)
{
.a2a_label {
   
    font-size: 10px;
}
.detail-10-product-price-orginal {
    font-size: 15px;
}
.detail-10-product-price-discount {
    font-size: 15px;
}
.detail-10-product-price-savings {
    font-size: 12px;
}
.detail-10-pro-title {
    font-size: 20px;
}
.detail-10-breadcrumb-outer-pad a
{
  font-size: 10px;
}
.a2a_default_style:not(.a2a_flex_style) a {
    margin-bottom: 10px;
}
.detail-10-new-cartbtn {
    width: 81%;
    
}
.detail-10-image-mobile .slick-list
  {
    padding: 0 50px !important;
  }
}

</style>
@include('web.details.partials.modals') 
<?php
  $currency = \App\Models\Core\Currency::where('id',session('currency_id'))->pluck('decimal_places'); 
        $decimal_places = count($currency) > 0 ? $currency[0] : 2;
?>


<section class="pro-content detail-10-pro-content">
@if($result['detail']['product_data'])
  <div class="container-fluid detail-10-outer-pad">

</div>
<meta property="og:title" content="{{$result['detail']['product_data'][0]->products_name}}" />
<meta property="og:image" content="{{asset($result['detail']['product_data'][0]->default_images) }}" />


<section class="product-page">
  <div class="container-fluid detail-10-outer-pad"> 
    <div class="row">
      <div class="col-12 col-lg-6 detail-10-image-desktop">
          <div class="slider-wrapper ">
              <div class="slider-for-vertical">
                <?php
                  $videos = DB::table('product_video')->LeftJoin('image_categories', function ($join) {
                    $join->on('image_categories.image_id', '=', 'product_video.image_id')
                        ->where(function ($query) {
                            $query->where('image_categories.image_type', '=', 'THUMBNAIL')
                                ->where('image_categories.image_type', '!=', 'THUMBNAIL')
                                ->orWhere('image_categories.image_type', '=', 'ACTUAL');
                        });
                })
                  ->select('product_video.*', 'image_categories.path as image')->where('product_id', $result['detail']['product_data'][0]->products_id)->get();
                  if(count($videos) > 0)
                  {
                    foreach($videos as $video)
                    {
                ?>
                 <a class="slider-for__item  fancybox-button iframe">
                 {!! $video->video_link !!}          
                </a>
                <?php }} ?>
                
                <a class="slider-for__item  fancybox-button" href="{{asset($result['detail']['product_data'][0]->default_images) }}" data-fancybox-group="fancybox-button">
                @if($result['detail']['product_data'][0]->default_images_path_type == 'aws')
                    <img src="{{$result['detail']['product_data'][0]->default_images }}" alt="Zoom Image" />
                    @else
                    <img src="{{asset('').$result['detail']['product_data'][0]->default_images }}" alt="Zoom Image" />
                  @endif
                 
                </a>
            
                @foreach( $result['detail']['product_data'][0]->images as $key=>$images )
                  @if($images->image_type == 'LARGE')

                  <a class="slider-for__item  fancybox-button" href="{{asset($images->image_path) }}" data-fancybox-group="fancybox-button" >
                  @if($images->image_path_type == 'aws')
                      <img src="{{$images->image_path }}" alt="Zoom Image" />
                    @else
                      <img src="{{asset('').$images->image_path }}" alt="Zoom Image" />
                    @endif
                   
                  </a>
                  
                  @elseif($images->image_type == 'ACTUAL')
                  <a class="slider-for__item  fancybox-button" href="{{asset($images->image_path) }}" data-fancybox-group="fancybox-button">
                  @if($images->image_path_type == 'aws')
                      <img src="{{$images->image_path }}" alt="Zoom Image" />
                    @else
                      <img src="{{asset('').$images->image_path }}" alt="Zoom Image" />
                    @endif

                   
                  </a>
                  @endif
                @endforeach
              </div>


              
            
              <div class="slider-nav-vertical">

                <?php
                  $videos = DB::table('product_video')->LeftJoin('image_categories', function ($join) {
                    $join->on('image_categories.image_id', '=', 'product_video.image_id')
                        ->where(function ($query) {
                            $query->where('image_categories.image_type', '=', 'THUMBNAIL')
                                ->where('image_categories.image_type', '!=', 'THUMBNAIL')
                                ->orWhere('image_categories.image_type', '=', 'ACTUAL');
                        });
                })
                  ->select('product_video.*', 'image_categories.path as image')->where('product_id', $result['detail']['product_data'][0]->products_id)->get();
                  if(count($videos) > 0)
                  {
                    foreach($videos as $video)
                    {
                ?>
                       <div class="slider-nav__item" style="position:relative;"  onclick="pauseVideo()">
                        <img src="{{asset($video->image)}}" alt="Zoom Image"/>
                        <i style="position:absolute;font-size: 22px;top: 40%;left: 40%;color:red;" class="fa fa-play-circle" aria-hidden="true"></i>
                         
                      </div>      
               
                <?php }} ?>
                
                
                <div class="slider-nav__item" onclick="pauseVideo()">
                @if($result['detail']['product_data'][0]->default_thumb_image_path_type == 'aws')
                <img src="{{$result['detail']['product_data'][0]->default_thumb }}" alt="Zoom Image"/>
                    @else
                    <img src="{{asset('').$result['detail']['product_data'][0]->default_thumb }}" alt="Zoom Image"/>
                  @endif
                 
                </div>
            
                @foreach( $result['detail']['product_data'][0]->images as $key=>$images )
                @if($images->image_type == 'THUMBNAIL')
                <div class="slider-nav__item" onclick="pauseVideo()">
                @if($images->image_path_type == 'aws')
                <img src="{{$images->image_path }}" alt="Zoom Image"/>
                    @else
                    <img src="{{asset('').$images->image_path }}" alt="Zoom Image"/>
                    @endif
                  
                </div>
                @endif
                @endforeach
                </div>
                <!-- <a class="fancybox-button fancy-btn-new expand-fancy-thumbs " href="{{asset($result['detail']['product_data'][0]->default_images) }}" data-fancybox-group="fancybox-button"><i class="fa fa-arrows-alt" aria-hidden="true"></i></a>
 -->
             
              </div>

            
      </div>
      <div class="col-12 col-lg-6 pt2 detail-10-product-single">
        <div class="row">
            <div class="col-12 col-md-12">
              
            <nav aria-label="breadcrumb" class="detail-10-breadcrumb-background">
      <div class="container-fluid detail-10-breadcrumb-outer-pad">
          <ol class="breadcrumb detail-10-breadcrumb-outer-pad">
            <li class="breadcrumb-items"><a href="{{ URL::to('/')}}">@lang('website.Home')</a><span class="detail-10-breadcrumb-divider">/</span></li>

              @if(!empty($result['category_name']) and !empty($result['sub_category_name']))
                <li class="breadcrumb-items"><a href="{{ URL::to('/shop?category='.$result['category_slug'])}}">{{$result['category_name']}}</a><span class="detail-10-breadcrumb-divider">/</span></li>
                <li class="breadcrumb-items"><a href="{{ URL::to('/shop?category='.$result['sub_category_slug'])}}">{{$result['sub_category_name']}}</a></li>
              @elseif(!empty($result['category_name']) and empty($result['sub_category_name']))
                <li class="breadcrumb-items"><a href="{{ URL::to('/shop?category='.$result['category_slug'])}}">{{$result['category_name']}}</a></li>
              @endif
           
          </ol>
      </div>
    </nav>
              <div class="badges">

                <?php 
                $current_date = date("Y-m-d", strtotime("now"));

                $string = substr($result['detail']['product_data'][0]->products_date_added, 0, strpos($result['detail']['product_data'][0]->products_date_added, ' '));
                $date=date_create($string);
                date_add($date,date_interval_create_from_date_string($web_setting[20]->value." days"));

                $after_date = date_format($date,"Y-m-d");

               /*  if($after_date>=$current_date){
                  print '<span class="badge badge-info">';
                  print __('website.New');
                  print '</span>';
                } */
              ?>

              <?php
              $discount_percentage = 0;
              if(!empty($result['detail']['product_data'][0]->discount_price)){
                $discount_price = $result['detail']['product_data'][0]->discount_price * session('currency_value');
              }
              $orignal_price = $result['detail']['product_data'][0]->products_price * session('currency_value');

              if(!empty($result['detail']['product_data'][0]->discount_price)){

              if(($orignal_price+0)>0){
                $discounted_price = $orignal_price-$discount_price;
                $discount_percentage = $discounted_price/$orignal_price*100;
              }else{
                $discount_percentage = 0;
                $discounted_price = 0;
              }
              
              ?>             
              
              <?php }
              
              ?>
             <!--  @if($discount_percentage>0)
              <span class="badge badge-danger" id="dis_special"><?php echo (int)$discount_percentage; ?>%</span>
              @endif
              @if($result['detail']['product_data'][0]->is_feature == 1)
              <span class="badge badge-success">@lang('website.Featured')</span>     
              @endif -->
              
              
            </div>
            <div class="detail-10-pro-title-outer">

                <h5 class="pro-title detail-10-pro-title">{{$result['detail']['product_data'][0]->products_name}}</h5>

                @if($result['detail']['product_data'][0]->products_type == 3)
                  <?php
                        $comboPro = DB::table('product_combo')
                        ->leftjoin('products_description','products_description.products_id','=','product_combo.product_id')
                        ->leftjoin('categories_description','categories_description.categories_id','=','product_combo.cate_id')
                        ->where('products_description.language_id', Session::get('language_id'))
                        ->where('categories_description.language_id', Session::get('language_id'))
                        ->where('product_combo.pro_id', $result['detail']['product_data'][0]->products_id)
                        ->get();
                      ?>
                        @foreach($comboPro as $comboProd)
                          <small><b>Product Name :</b> {{$comboProd->products_name}}</small><br>
                          <small><b>Category Name :</b> {{$comboProd->categories_name}}</small><br>
                          <small><b>Qty :</b> {{$comboProd->qty}}</small><br>
                          @if($comboProd->products_type == 1)
                            <?php
                             
                              $productsAttributes = DB::table('products_attributes')
                                  ->leftJoin('products_options', 'products_options.products_options_id', '=', 'products_attributes.options_id')
                                  ->leftJoin('products_options_values', 'products_options_values.products_options_values_id', '=', 'products_attributes.options_values_id')
                                  ->select('products_attributes.*', 'products_options.products_options_name as options_name', 'products_options_values.products_options_values_name as options_values')
                                  ->where('products_attributes.options_id', $comboProd->attractive_id)
                                  ->where('products_attributes.options_values_id', $comboProd->option_id)
                                  ->get();

                              $options_names = $productsAttributes[0]->options_name;
                              $options_values = $productsAttributes[0]->options_values;
                              
                            ?>
                             <small><b><?php echo $options_names; ?> :</b> <?php echo $options_values; ?></small><br>
                            @endif
                        @endforeach
                @endif

                @if($result['detail']['product_data'][0]->products_type == 4)
                <?php
                        $comboPro = DB::table('product_buy_x')
                        ->leftjoin('products_description','products_description.products_id','=','product_buy_x.product_id')
                        ->leftjoin('categories_description','categories_description.categories_id','=','product_buy_x.cate_id')
                        ->where('products_description.language_id', Session::get('language_id'))
                        ->where('categories_description.language_id', Session::get('language_id'))
                        ->where('product_buy_x.pro_id', $result['detail']['product_data'][0]->products_id)
                        ->get();

                        $getX = DB::table('product_get_x')
                        ->leftjoin('products_description','products_description.products_id','=','product_get_x.product_id')
                        ->leftjoin('categories_description','categories_description.categories_id','=','product_get_x.cate_id')
                        ->where('products_description.language_id', Session::get('language_id'))
                        ->where('categories_description.language_id', Session::get('language_id'))
                        ->where('product_get_x.pro_id', $result['detail']['product_data'][0]->products_id)
                        ->get();

                      ?>
                      <h5>Buy X :</h5>
                        @foreach($comboPro as $comboProd)
                          <small><b>Product Name :</b> {{$comboProd->products_name}}</small><br>
                          <small><b>Category Name :</b> {{$comboProd->categories_name}}</small><br>
                          <small><b>Qty :</b> {{$comboProd->qty}}</small><br>
                          @if($comboProd->products_type == 1)
                            <?php
                             
                              $productsAttributes = DB::table('products_attributes')
                                  ->leftJoin('products_options', 'products_options.products_options_id', '=', 'products_attributes.options_id')
                                  ->leftJoin('products_options_values', 'products_options_values.products_options_values_id', '=', 'products_attributes.options_values_id')
                                  ->select('products_attributes.*', 'products_options.products_options_name as options_name', 'products_options_values.products_options_values_name as options_values')
                                  ->where('products_attributes.options_id', $comboProd->attractive_id)
                                  ->where('products_attributes.options_values_id', $comboProd->option_id)
                                  ->get();

                              $options_names = $productsAttributes[0]->options_name;
                              $options_values = $productsAttributes[0]->options_values;
                              
                            ?>
                             <small><b><?php echo $options_names; ?> :</b> <?php echo $options_values; ?></small><br>
                            @endif
                        @endforeach

                        <br><h5>Get X :</h5>
                        @foreach($getX as $comboProdgetX)
                          <small><b>Product Name :</b> {{$comboProdgetX->products_name}}</small><br>
                          <small><b>Category Name :</b> {{$comboProdgetX->categories_name}}</small><br>
                          <small><b>Qty :</b> {{$comboProdgetX->qty}}</small><br>
                          @if($comboProdgetX->products_type == 1)
                            <?php
                             
                              $productsAttributes = DB::table('products_attributes')
                                  ->leftJoin('products_options', 'products_options.products_options_id', '=', 'products_attributes.options_id')
                                  ->leftJoin('products_options_values', 'products_options_values.products_options_values_id', '=', 'products_attributes.options_values_id')
                                  ->select('products_attributes.*', 'products_options.products_options_name as options_name', 'products_options_values.products_options_values_name as options_values')
                                  ->where('products_attributes.options_id', $comboProdgetX->attractive_id)
                                  ->where('products_attributes.options_values_id', $comboProdgetX->option_id)
                                  ->get();

                              $options_names = $productsAttributes[0]->options_name;
                              $options_values = $productsAttributes[0]->options_values;
                              
                            ?>
                             <small><b><?php echo $options_names; ?> :</b> <?php echo $options_values; ?></small><br>
                            @endif
                        @endforeach
                @endif
          
          
                <section class="detail-10-image-mobile">
        
              <div class="detail-10-slick-slider">     
                  <div class="slick search-fancy-detail-10">
                  <a href="" target="_blank">
                        <img class=""  src="{{asset($result['detail']['product_data'][0]->default_images) }}" width="100%" alt="First slide">
                      </a>
                      <a class="fancybox-button search-fancy-detail-10-btn" href="{{asset($result['detail']['product_data'][0]->default_images) }}" data-fancybox-group="fancybox-button"><i class="fa fa-search" aria-hidden="true"></i></a>
                    </button>
                     
                  </div>
                  <div class="slick search-fancy-detail-10">
                  <a href="" target="_blank">
                        <img class=""  src="{{asset($result['detail']['product_data'][0]->default_images) }}" width="100%" alt="First slide">
                      </a>
                      <a class="fancybox-button search-fancy-detail-10-btn" href="{{asset($result['detail']['product_data'][0]->default_images) }}" data-fancybox-group="fancybox-button"><i class="fa fa-search" aria-hidden="true"></i></a>
                  </div>
                  <div class="slick search-fancy-detail-10">
                      <a href="" target="_blank">
                        <img class=""  src="{{asset($result['detail']['product_data'][0]->default_images) }}" width="100%" alt="First slide">
                      </a>
                      <a class="fancybox-button search-fancy-detail-10-btn" href="{{asset($result['detail']['product_data'][0]->default_images) }}" data-fancybox-group="fancybox-button"><i class="fa fa-search" aria-hidden="true"></i></a>
                  </div>
                
              </div>
            
       
</section>


              @if($result['detail']['product_data'][0]->rating > 0)
                <div class="pro-rating">
              <fieldset class="disabled-ratings">                                           
              <label class = "full fa @if($result['detail']['product_data'][0]->rating >= 5) active @endif" for="star_5" title="@lang('website.awesome_5_stars')"></label>    
            <label class = "full fa @if($result['detail']['product_data'][0]->rating >= 4) active @endif" for="star_4" title="@lang('website.pretty_good_4_stars')"></label>  
            <label class = "full fa @if($result['detail']['product_data'][0]->rating >= 3) active @endif" for="star_3" title="@lang('website.good_3_stars')"></label>  
            <label class = "full fa @if($result['detail']['product_data'][0]->rating >= 2) active @endif" for="star_2" title="@lang('website.average_2_stars')"></label>                                       
                <label class = "full fa @if($result['detail']['product_data'][0]->rating >= 1) active @endif" for="star1" title="@lang('website.bad_1_stars')"></label>
              </fieldset>                                          
              <a href="#review" id="review-tabs" data-toggle="pill" role="tab" class="btn-link">{{$result['detail']['product_data'][0]->total_user_rated}} @lang('website.Reviews') </a>
            </div>
            @endif
            </div>
               <!--  <div class="detail-10-product-price-outer">
            <label class="detail-10-product-price-label">Price</label>
            <span class="detail-10-product-price-orginal">RM358</span>
            <span class="detail-10-product-price-discount">RM288</span>
            <span class="detail-10-product-price-savings">Save RM70</span>
          </div> -->
          
          <div class="detail-10-product-price-outer">
                            
            <?php

            if(!empty($result['detail']['product_data'][0]->discount_price)){
              $discount_price = $result['detail']['product_data'][0]->discount_price * session('currency_value');
            }
            if(!empty($result['detail']['product_data'][0]->flash_price)){
              $flash_price = $result['detail']['product_data'][0]->flash_price * session('currency_value');
            }
              $orignal_price = $result['detail']['product_data'][0]->products_price * session('currency_value');


             if(!empty($result['detail']['product_data'][0]->discount_price)){

              if(($orignal_price+0)>0){
                $discounted_price = $orignal_price-$discount_price;
                $discounted_price_new = $orignal_price-$discount_price;
                $discount_percentage = $discounted_price/$orignal_price*100;
                $discounted_price = $result['detail']['product_data'][0]->discount_price;

             }else{
               $discount_percentage = 0;
               $discounted_price = 0;
               $discounted_price_new = 0;
             }
            }
            else{
              $discounted_price = $orignal_price;
              $discounted_price_new = 0;
            }
            ?>

          
          <label class="detail-10-product-price-label">Price</label>

                    
            @if(!empty($result['detail']['product_data'][0]->flash_price))
            <span class="detail-10-product-price-orginal" id="total_org_price">{{Session::get('symbol_left')}}{{$orignal_price}}{{Session::get('symbol_right')}} </span> 
            <span class="detail-10-product-price-discount total_price" id="total_dis_price">{{Session::get('symbol_left')}}{{$flash_price}}{{Session::get('symbol_right')}}</span>
            

            @elseif(!empty($result['detail']['product_data'][0]->discount_price))
           
            <span class="detail-10-product-price-orginal" id="total_org_price">{{Session::get('symbol_left')}}{{number_format($orignal_price,$decimal_places)}}{{Session::get('symbol_right')}} </span> 
            <span class="detail-10-product-price-discount total_price" id="total_dis_price">{{Session::get('symbol_left')}}{{$discount_price}}{{Session::get('symbol_right')}}</span>
            <span class="detail-10-product-price-savings">Save {{Session::get('symbol_left')}}{{$discounted_price_new}}{{Session::get('symbol_right')}}</span>    
            
            @else
            <span class="detail-10-product-price-discount total_price" id="total_dis_price">{{Session::get('symbol_left')}}{{$orignal_price}}{{Session::get('symbol_right')}}</span>
            @endif
                               
            </div>

             <!-- AddToAny BEGIN -->
             <div class="a2a_kit a2a_kit_size_32 a2a_default_style detail-10-marign-30">
                <a class="a2a_dd" href="https://www.addtoany.com/share"></a>
                <a class="a2a_button_facebook"></a>
                <a class="a2a_button_twitter"></a>
                <a class="a2a_button_email"></a>
                </div>
                <script async src="https://static.addtoany.com/menu/page.js"></script>
                <!-- AddToAny END -->

              <div class="detail-10-margin-bottom-30">
                <ul class="detail-10-sales-points">
                  <li class="detail-10-sales-point">
                    <span class="detail-10-icon-and-text">
                      <span class="detail-10-icon detail-10-icon-inventory"></span>
                        @if($result['detail']['product_data'][0]->products_type == 0)
                          @if($result['commonContent']['settings']['Inventory'])
                          @if($result['detail']['product_data'][0]->stock_status == 1)
                            @if($result['commonContent']['settings']['stock_availability'] == 1)
                            <span data-product-inventory="" data-threshold="0">In stock, ready to ship , available stock {{ $result['detail']['product_data'][0]->defaultStock }}
                            @else
                            @if($result['detail']['product_data'][0]->defaultStock <= 0)
                            <span data-product-inventory="" data-threshold="0"> Sold Out
                            @else
                            <span data-product-inventory="" data-threshold="0">In stock, ready to ship
                            @endif
                          @endif
                          @else 
                          <span data-product-inventory="" data-threshold="0">In stock, ready to ship   
                          @endif
                          @else 
                          <span data-product-inventory="" data-threshold="0">In stock, ready to ship   
                          @endif
                        @endif


                        @if($result['detail']['product_data'][0]->products_type == 1)
          
                          @if($result['commonContent']['settings']['Inventory'])
                          @if($result['detail']['product_data'][0]->stock_status == 1)
                          @if($result['commonContent']['settings']['stock_availability'] == 1)
                              <span  id="variable-count"></span>
                            @else
                              <span  id="variable-status"></span>  
                            @endif
                            @else
                              <span  id="variable-status"></span>  
                            @endif
                        @endif
                        @endif

                        @if($result['detail']['product_data'][0]->products_type == 2)
                        <span class="text-secondary">@lang('website.External Link')</span>
                        @endif
                      
                      </span>
                    </span>
                  </li>
                </ul>
              </div>

     <!-- 

          <div class="pro-infos">
              <div class="pro-single-info"><b>@lang('website.Product ID') : </b>{{$result['detail']['product_data'][0]->products_id}}</div>
              <div class="pro-single-info"><b>@lang('website.Categroy')  : </b>
                <?php
                $cates = '';  
                ?>
                @foreach($result['detail']['product_data'][0]->categories as $key=>$category)
                    
                  <?php
                    $cates =  "<a class='common-hover' href=".url('shop?category='.$category->categories_slug).">".$category->categories_name."</a>";
                  ?>  
                  
                  <?php 
                echo $cates.',';
                ?>
                 @endforeach

                </div>
              
             
              
                <div class="pro-single-info"><b>@lang('website.Available') :</b>
             


                @if($result['detail']['product_data'][0]->products_type == 0)
                  @if($result['commonContent']['settings']['Inventory'])
                    @if($result['commonContent']['settings']['stock_availability'] == 1)
                      <span class="text-secondary">{{ $result['detail']['product_data'][0]->defaultStock }}</span>
                    @else
                      @if($result['detail']['product_data'][0]->defaultStock <= 0)
                        <span class="text-secondary">@lang('website.Out of Stock')</span>
                      @else
                        <span class="text-secondary">@lang('website.In stock')</span>
                      @endif
                    @endif
                    @else 
                      <span class="text-secondary">@lang('website.In stock')</span>    
                    @endif
                @endif

                @if($result['detail']['product_data'][0]->products_type == 1)
          
                @if($result['commonContent']['settings']['Inventory'])
                  @if($result['commonContent']['settings']['stock_availability'] == 1)
                    <span class="text-secondary" id="variable-count"></span>
                  @else
                    <span class="text-secondary" id="variable-status"></span>  
                  @endif
              @endif
              @endif

                @if($result['detail']['product_data'][0]->products_type == 2)
                <span class="text-secondary">@lang('website.External Link')</span>
                @endif
              </div>

              <p>
              @if($result['detail']['product_data'][0]->products_min_order>0)
                  
                    
                  <div class="pro-single-info" id="min_max_setting3"><b>@lang('website.Min Order Limit') : </b>{{$result['detail']['product_data'][0]->products_min_order}}</div>
                    
                 
                @endif
                  
                <div class="pro-single-info"  @if($result['detail']['product_data'][0]->products_max_stock==9999) style="display:none;" @endif id="min_max_setting2"><b>@lang('website.Max Order Limit') : </b> @if($result['detail']['product_data'][0]->products_max_stock == 0)
                  {{$result['detail']['product_data'][0]->products_max_stock}} (unlimited)
                  
                  @else{{$result['detail']['product_data'][0]->products_max_stock}} @endif</div>
                  
                </p>
          </div> -->

          <form name="attributes" id="add-Product-form" method="post" >
            <input type="hidden" name="products_id" value="{{$result['detail']['product_data'][0]->products_id}}">
            <input type="hidden" name="special_discount" id="special_discount" value="no">
            <input type="hidden" name="special_price" id="special_price" value="">
            <input type="hidden" name="org_price" id="org_price" value="">


            <input type="hidden" value="{{ number_format($result['detail']['product_data'][0]->products_filter_price,$decimal_places) }}" id="total_org_price_new">
            <input type="hidden" name="option_name_new" class="option_name_new" value="">
            <input type="hidden" name="option_id_new" class="option_id_new" value="">
            <input type="hidden" name="attributes_id_new" class="attributes_id_new" value="">
            <input type="hidden" name="function_id_new" class="function_id_new" value="">
            <input type="hidden" name="products_id" class="products_id_new" value="{{$result['detail']['product_data'][0]->products_id}}">
            <input type="hidden" name="products_type" class="products_type" value="{{$result['detail']['product_data'][0]->products_type}}">



            <input type="hidden" name="products_price" id="products_price" value="@if(!empty($result['detail']['product_data'][0]->flash_price)) {{$result['detail']['product_data'][0]->flash_price+0}} @elseif(!empty($result['detail']['product_data'][0]->discount_price)){{$result['detail']['product_data'][0]->discount_price+0}}@else{{$result['detail']['product_data'][0]->products_price+0}}@endif">

            <input type="hidden" name="checkout" id="checkout_url" value="@if(!empty(app('request')->input('checkout'))) {{ app('request')->input('checkout') }} @else false @endif" >

            <input type="hidden" id="max_order" value="@if(!empty($result['detail']['product_data'][0]->products_max_stock)){{ $result['detail']['product_data'][0]->products_max_stock }}@else 0 @endif" >
             @if(!empty($result['cart']))
              <input type="hidden"  name="customers_basket_id" value="{{$result['cart'][0]->customers_basket_id}}" >
             @endif


             @if(count($result['detail']['product_data'][0]->attributes)>0)
             <div class="pro-options row">
             <?php
                 $index = 0;
             ?>
               @foreach( $result['detail']['product_data'][0]->attributes as $key=>$attributes_data )
               <?php
                   $functionValue = 'function_'.$key++;
               ?>
               <input type="hidden" name="option_name[]" value="{{ $attributes_data['option']['name'] }}" >
               <input type="hidden" name="option_id[]" value="{{ $attributes_data['option']['id'] }}" >
               <input type="hidden" name="{{ $functionValue }}" id="{{ $functionValue }}" value="0" >
               <input id="attributeid_<?=$index?>" type="hidden" value="">
               <input id="attribute_sign_<?=$index?>" type="hidden" value="">
               <input id="attributeids_<?=$index?>" type="hidden" name="attributeid[]" value="" >

               <style>

body { 
/* 	font-family: 'Ubuntu', sans-serif; */
font-weight: bold;
}
.select2-container {
min-width: 400px;
}

.select2-results__option {
padding-right: 20px;
vertical-align: middle;
}
.select2-results__option:before {
content: "";
display: inline-block;
position: relative;
height: 20px;
width: 20px;
border: 1px solid #495057;
border-radius: 4px;
background-color: #fff;
margin-right: 20px;
vertical-align: middle;
}
span.select2.select2-container.select2-container--default {
width: auto !important;
min-width: 131px;
max-width: 400px; 
}
.detail-8-select-control1.select-control::before {
font-family: "Font Awesome 5 Free";
font-weight: 900;
content: "\F107";
position: absolute;
color: #6c757d;
bottom: 36%;
right: 10px;
z-index: 1;
font-size: 12px;
}
.select2-container--default .select2-selection--multiple .select2-selection__choice__remove {
display: none !important;
}
.select2-results__option[aria-selected=true]:before {
font-family:fontAwesome;
content: "\2713";
color: #fff;
background-color: #f77750;
border: 0;
display: inline-block;
padding-left: 5px;
}
.select2-container--default .select2-results__option[aria-selected=true] {
background-color: #fff;
}
.select2-container--default .select2-results__option--highlighted[aria-selected] {
background-color: #eaeaeb;
color: #272727;
}
.select2-container--default .select2-selection--multiple .select2-selection__clear {
display: none !important;
}
.select2-container--default .select2-selection--multiple {
margin-bottom: 10px;
}
.select2-container--default.select2-container--open.select2-container--below .select2-selection--multiple {
border-radius: 4px;
}
.select2-container--default.select2-container--focus .select2-selection--multiple {
border-color: #f77750;
border-width: 1px;
}
.select2-container--default .select2-selection--multiple {
border-width: 1px;
}
.select2-container--open .select2-dropdown--below {

border-radius: 6px;
box-shadow: 0 0 10px rgba(0,0,0,0.5);

}
.select2-selection .select2-selection--multiple:after {
content: 'hhghgh';
}
/* select with icons badges single*/
.select-icon .select2-selection__placeholder .badge {
display: none;
}
.select-icon .placeholder {
/* 	display: none; */
}
.select-icon .select2-results__option:before,
.select-icon .select2-results__option[aria-selected=true]:before {
display: none !important;
/* content: "" !important; */
}
.select-icon  .select2-search--dropdown {
display: none;
}



.btn-group .select {
position: relative;
}
/* .btn-group .select input:checked + label {
background-color: #ffc107;
} */
.btn-group .select input:checked + label:hover, .btn-group .select input:checked + label:focus, .btn-group .select input:checked + label:active {
background-color: #ffc107;
}


.btn-group .select input:checked + label .tick-active{
color: #000;
background: none;
position: absolute;
right: 10px;
bottom: 10px;
width: 20px;
border-bottom: 20px solid #ffc107;
border-left: 20px solid transparent;
border-right: 0px solid transparent;
}

.btn-group .select input:checked + label .tick-active:before {
content: "\2713";
position: absolute;
right: 1px;
top: 4.5px;
color: #000;
font-family: 'Font Awesome 5 Brands';
font-weight: 900;
transform: rotate(5deg);
}


.btn-group .select input {
opacity: 0;
position: absolute;
}
.btn-group .select .button_select {
margin: 0 10px 10px 0;
display: flex;
background-color: transparent;
}
.btn-group .select .button_select:hover, .btn-group .select .button_select:focus, .btn-group .select .button_select:active {
background-color: transparent;
}

.option {
position: relative;
}
.option input {
opacity: 0;
position: absolute;
}
/* .option input:checked + span {
background-color: #ffc107;
} */
.option input:checked + span:hover, .option input:checked + span:focus, .option input:checked + span:active {
background-color: #ffc107;
}
.option .btn-option {
margin: 0 10px 10px 0;
display: flex;
background-color: transparent;
}
.option .btn-option:hover, .option .btn-option:focus, .option .btn-option:active {
background-color: transparent;
}


.option input:checked + span .tick-active{
color: #000;
background: none;
position: absolute;
right: 10px;
bottom: 10px;
width: 20px;
border-bottom: 20px solid #ffc107;
border-left: 20px solid transparent;
border-right: 0px solid transparent;
}

.option input:checked + span .tick-active:before {
content: "\2713";
position: absolute;
right: 1px;
top: 4.5px;
color: #000;
font-family: 'Font Awesome 5 Brands';
font-weight: 900;
transform: rotate(5deg);
}

.tick-active-new:before {
content: "\2713";
position: absolute;
right: 1px;
top: 4.5px;
color: #000;
font-family: 'Font Awesome 5 Brands';
font-weight: 900;
transform: rotate(5deg);
}
.tick-active-new {
right:0;bottom:0;height: 20px;background: none;position: absolute;width: 20px;border-bottom: 20px solid;border-left: 20px solid transparent;border-right: 0px solid transparent;
}

</style>



<script>

$(".js-select2").select2({
closeOnSelect : false,
placeholder : "Placeholder",
// allowHtml: true,
allowClear: true,
tags: true // создает новые опции на лету
});
</script>

   <div class="box mb-3" style="width:100%;">


  <label class="detail-8-att-label">{{ $attributes_data['option']['name'] }} @if($attributes_data['option']['options_required'] == 0) * @endif  @if($attributes_data['option']['options_select_type'] == 0) (Pick 1) @endif @if($attributes_data['option']['options_select_type'] == 1) (Pick Multiple) @endif</label>

  @if($attributes_data['option']['options_select_type'] == 0)

    <ul class="size-list js-size-list" data-select-id="SingleOptionSelector-<?=$index?>">
      @foreach($attributes_data['values'] as $values_data)
        <li class="pc-category-variable-item-main  var-{{$values_data['id']}} common-color new-{{ $attributes_data['option']['id'] }}  @if($attributes_data['option']['options_required'] == 0) @if($values_data['is_default']) active @endif @endif" style="display:inline-block;height: 40px !important;border: solid 1px;margin: 0 10px 10px 0;position:relative;">

          <input type="hidden" value="{{ $values_data['price'] }}" prefix="{{ $values_data['price_prefix'] }}" class="radio_get var-{{$values_data['id']}} new-{{ $attributes_data['option']['id'] }} @if($attributes_data['option']['options_required'] == 0) @if($values_data['is_default']) active @endif @endif" >

          <input type="hidden" value="{{ $attributes_data['option']['name'] }}" class="option_name var-{{$values_data['id']}} new-{{ $attributes_data['option']['id'] }} @if($attributes_data['option']['options_required'] == 0) @if($values_data['is_default']) active @endif @endif">

          <input type="hidden" value="{{ $attributes_data['option']['id'] }}" class="option_id var-{{$values_data['id']}} new-{{ $attributes_data['option']['id'] }} @if($attributes_data['option']['options_required'] == 0) @if($values_data['is_default']) active @endif @endif">

          
          <input type="hidden" value="{{ $values_data['products_attributes_id'] }}" class="attributes_id var-{{$values_data['id']}} new-{{ $attributes_data['option']['id'] }} @if($attributes_data['option']['options_required'] == 0) @if($values_data['is_default']) active @endif @endif">

          <input type="hidden" value="{{$values_data['id']}}" class="function_id var-{{$values_data['id']}} new-{{ $attributes_data['option']['id'] }} @if($attributes_data['option']['options_required'] == 0) @if($values_data['is_default']) active @endif @endif">


          <label>
            <input type="radio" class="radio-{{$values_data['id']}}" name="{{ $attributes_data['option']['id'] }}" style="display:none;"  @if($attributes_data['option']['options_required'] == 0) @if($values_data['is_default']) checked @endif @endif value="{{ $values_data['id'] }}" @if($attributes_data['option']['options_required'] == 0) onchange="updateActiveClass(event, {{$values_data['id']}}, {{ $attributes_data['option']['id'] }} , 'radio', '{{ $values_data['price_prefix'] }}', '{{ $values_data['price'] }}')" @else onclick="updateActiveClassradio(event, {{$values_data['id']}}, {{ $attributes_data['option']['id'] }} , 'radio', '{{ $values_data['price_prefix'] }}', '{{ $values_data['price'] }}')" @endif>

            <!-- <div class="pc-category-variable-item-price">{{ $values_data['price_prefix'] }}{{ $values_data['price'] }}</div> -->
            <div class="pc-category-variable-item cursor-pointer" style="text-align:center !important;width:100%;padding: 0.6rem 1.8rem;color: #212529;text-transform: uppercase;">{{ $values_data['value'] }}</div>
          </label>
          <span class="common-color @if($attributes_data['option']['options_required'] == 0) @if($values_data['is_default']) tick-active-new @endif @endif tick-common-{{ $attributes_data['option']['id'] }} tick-{{$values_data['id']}}"></span>
        </li>
      @endforeach
    </ul>

    @else


      <ul class="size-list js-size-list">
        @foreach($attributes_data['values'] as $values_data)
          <li class="pc-category-variable-item-main  common-color var-{{$values_data['id']}} new-{{ $attributes_data['option']['id'] }} @if($attributes_data['option']['options_required'] == 0) @if($values_data['is_default']) active @endif @endif" style="display:inline-block;height: 40px !important;border: solid 1px;margin: 0 10px 10px 0;position:relative;">
          <input type="hidden" value="{{ $values_data['price'] }}" prefix="{{ $values_data['price_prefix'] }}" class="check_get var-{{$values_data['id']}} new-{{ $attributes_data['option']['id'] }} @if($attributes_data['option']['options_required'] == 0) @if($values_data['is_default']) active @endif @endif">

          <input type="hidden" value="{{ $attributes_data['option']['name'] }}" class="option_name var-{{$values_data['id']}} new-{{ $attributes_data['option']['id'] }} @if($attributes_data['option']['options_required'] == 0) @if($values_data['is_default']) active @endif @endif">

          <input type="hidden" value="{{ $attributes_data['option']['id'] }}" class="option_id var-{{$values_data['id']}} new-{{ $attributes_data['option']['id'] }} @if($attributes_data['option']['options_required'] == 0) @if($values_data['is_default']) active @endif @endif">

          <input type="hidden" value="{{ $values_data['products_attributes_id'] }}" class="attributes_id var-{{$values_data['id']}} new-{{ $attributes_data['option']['id'] }} @if($attributes_data['option']['options_required'] == 0) @if($values_data['is_default']) active @endif @endif">

          <input type="hidden" value="{{$values_data['id']}}" class="function_id var-{{$values_data['id']}} new-{{ $attributes_data['option']['id'] }} @if($attributes_data['option']['options_required'] == 0) @if($values_data['is_default']) active @endif @endif">

        
            <label>
              <input type="checkbox" style="display:none;" @if($attributes_data['option']['options_required'] == 0) @if($values_data['is_default']) checked @endif @endif name="{{ $attributes_data['option']['id'] }}" value="{{ $values_data['id'] }}" onchange="updateActiveClass(event, {{$values_data['id']}}, {{ $attributes_data['option']['id'] }} , 'checkbox', '{{ $values_data['price_prefix'] }}', '{{ $values_data['price'] }}')"> 
             <!--  <div class="pc-category-variable-item-price">{{ $values_data['price_prefix'] }}{{ $values_data['price'] }}</div> -->
              <div class="pc-category-variable-item cursor-pointer" style="text-align:center !important;width:100%;padding: 0.6rem 1.8rem;color: #212529;text-transform: uppercase;">{{ $values_data['value'] }}</div>
              <span class="common-color @if($attributes_data['option']['options_required'] == 0) @if($values_data['is_default']) tick-active-new @endif @endif  tick-common-{{ $attributes_data['option']['id'] }} tick-{{$values_data['id']}}"></span>
            </label>
          </li>
        @endforeach
      </ul>

    @endif


    </div>                 
               
                 <!-- <div class="attributes col-12 col-md-4 box">
                     <label class="">{{ $attributes_data['option']['name'] }}</label>
                     <div class="select-control">
                     <select name="{{ $attributes_data['option']['id'] }}" onChange="getQuantity()" class="currentstock form-control attributeid_<?=$index++?>" attributeid = "{{ $attributes_data['option']['id'] }}">
                       @if(!empty($result['cart']))
                         @php
                           $value_ids = array();
                           foreach($result['cart'][0]->attributes as $values){
                               $value_ids[] = $values->options_values_id;
                           }
                         @endphp
                           @foreach($attributes_data['values'] as $values_data)
                             @if(!empty($result['cart']))
                             <option @if(in_array($values_data['id'],$value_ids)) selected @endif attributes_value="{{ $values_data['products_attributes_id'] }}" value="{{ $values_data['id'] }}" prefix = '{{ $values_data['price_prefix'] }}'  value_price ="{{ $values_data['price']+0 }}" >{{ $values_data['value'] }}</option>
                             @endif
                           @endforeach
                         @else
                           @foreach($attributes_data['values'] as $values_data)
                             <option @if($values_data['is_default']) selected @endif attributes_value="{{ $values_data['products_attributes_id'] }}" value="{{ $values_data['id'] }}" prefix = '{{ $values_data['price_prefix'] }}'  value_price ="{{ $values_data['price']+0 }}" >{{ $values_data['value'] }}</option>
                           @endforeach
                         @endif
                       </select>
                     </div> 
                   </div>               -->   
               
               @endforeach
             </div>
             @endif
        
             @if(!empty($result['detail']['product_data'][0]->flash_start_date))
             <div class="countdown pro-timer" data-toggle="tooltip" data-placement="bottom" title="@lang('website.Countdown Timer')" id="counter_{{$result['detail']['product_data'][0]->products_id}}" >                               
               <span class="days">0<small>@lang('website.Days') </small></span>
               <span class="hours">0<small>@lang('website.Hours')</small></span>
               <span class="mintues">0<small>@lang('website.Minutes')</small></span>
               <span class="seconds">0<small>@lang('website.Seconds')</small></span>
             </div>
             @endif
        
          
          <div class="pro-counter" @if(!empty($result['detail']['product_data'][0]->flash_start_date) and $result['detail']['product_data'][0]->server_time < $result['detail']['product_data'][0]->flash_start_date ) style="display: none" @endif>


          <div class="detail-10-margin-bottom-30">
            <div class="detail-10-product-quantity-outer">
              <label class="detail-10-product-quantity-label">Quantity</label>
              <div class="detail-10-qty-wrapper">



                

                @if($result['detail']['product_data'][0]->products_type == 0)

                @if($result['commonContent']['settings']['Inventory'] == 0)
                    @if($result['detail']['product_data'][0]->products_max_stock == 0)
                        <input type="text" style="background: #f7f7f8;text-align:center" readonly name="quantity" class="form-control qty" value="@if(!empty($result['cart'])) {{$result['cart'][0]->customers_basket_quantity}} @else @if($result['detail']['product_data'][0]->products_min_order>0 and $result['detail']['product_data'][0]->defaultStock > $result['detail']['product_data'][0]->products_min_order) {{$result['detail']['product_data'][0]->products_min_order}} @else 1 @endif @endif" min="{{$result['detail']['product_data'][0]->products_min_order}}" max="9999999">    <span class="input-group-btn">
                      @else
                        <input type="text" style="background: #f7f7f8;text-align:center"  readonly name="quantity" class="form-control qty" value="@if(!empty($result['cart'])) {{$result['cart'][0]->customers_basket_quantity}} @else @if($result['detail']['product_data'][0]->products_min_order>0 and $result['detail']['product_data'][0]->defaultStock > $result['detail']['product_data'][0]->products_min_order) {{$result['detail']['product_data'][0]->products_min_order}} @else 1 @endif @endif" min="{{$result['detail']['product_data'][0]->products_min_order}}" max="{{$result['detail']['product_data'][0]->products_max_stock}}">    <span class="input-group-btn">
                      @endif
                    @else
                        
                    @if($result['detail']['product_data'][0]->products_max_stock == 0)
                        <input type="text" style="background: #f7f7f8;text-align:center" readonly name="quantity" class="form-control qty" value="@if(!empty($result['cart'])) {{$result['cart'][0]->customers_basket_quantity}} @else @if($result['detail']['product_data'][0]->products_min_order>0 and $result['detail']['product_data'][0]->defaultStock > $result['detail']['product_data'][0]->products_min_order) {{$result['detail']['product_data'][0]->products_min_order}} @else 1 @endif @endif" min="{{$result['detail']['product_data'][0]->products_min_order}}" max="9999999">    <span class="input-group-btn">
                      @else
                      <input type="text" style="background: #f7f7f8;text-align:center" readonly name="quantity" class="form-control qty" value="@if(!empty($result['cart'])) {{$result['cart'][0]->customers_basket_quantity}} @else @if($result['detail']['product_data'][0]->products_min_order>0 and $result['detail']['product_data'][0]->defaultStock > $result['detail']['product_data'][0]->products_min_order) {{$result['detail']['product_data'][0]->products_min_order}} @else 1 @endif @endif" min="{{$result['detail']['product_data'][0]->products_min_order}}" max="{{$result['detail']['product_data'][0]->defaultStock}}">    <span class="input-group-btn">

                    @endif
                    @endif

                  @elseif($result['detail']['product_data'][0]->products_type == 1)

                  <input style="background: #f7f7f8;text-align:center" type="text" readonly name="quantity" class="detail-10-qty-num qty type_one" value="@if(!empty($result['cart'])) {{$result['cart'][0]->customers_basket_quantity}} @else @if($result['detail']['product_data'][0]->products_min_order>0 and $result['detail']['product_data'][0]->defaultStock > $result['detail']['product_data'][0]->products_min_order) {{$result['detail']['product_data'][0]->products_min_order}} @else 1 @endif @endif" min="{{$result['detail']['product_data'][0]->products_min_order}}" max="{{$result['detail']['product_data'][0]->products_max_stock}}">


                  @elseif($result['detail']['product_data'][0]->products_type == 3 || $result['detail']['product_data'][0]->products_type == 4)
                  @if($result['commonContent']['settings']['Inventory'])
                  @if($result['detail']['product_data'][0]->stock_status == 1)
            <?php

              $inventory_ref_id = '';
              $products_id = $result['detail']['product_data'][0]->products_id;
              $productsType = DB::table('products')->join('product_combo','product_combo.product_id','=','products.products_id')->where('product_combo.pro_id', $products_id)->get();

              $resattributes = array();
              foreach($productsType as $proCType){
                if($proCType->attractive_id !=0){
                  $resattributes[] = $proCType->attractive_id;
                }
              }


              // Normal Product stocks

              $norstocks = array();
              foreach($productsType as $proCType){
                if($proCType->products_type == 0) { 

                  $stocksin = DB::table('inventory')->where('products_id', $proCType->product_id)->where('stock_type', 'in')->sum('stock');
                  $stockOut = DB::table('inventory')->where('products_id', $proCType->product_id)->where('stock_type', 'out')->sum('stock');
                  $norstocks[] = $stocksin - $stockOut;

                }
              }
              $workArray = implode(",", $norstocks);
              $array = explode(',', $workArray);
              $NorStock = min($array);

              // Variable Product stocks

              $stocks = array();
              $VarStock = '';
              foreach($productsType as $proCType){
                $attrcount = DB::table('products_attributes')->where('products_id', $proCType->product_id)->get();
                $acount = count($attrcount);

                if ($proCType->products_type == 1 && $acount > 0) {

                  $attributes = array_filter($resattributes);
                  $attributeid = implode(',', $attributes);

                  $postAttributes = count($attributes);

                  $inventories = DB::table('inventory')->where('products_id', $proCType->product_id)->get();
                  $reference_ids = array();
                  
                  $stockIn = 0;
                  foreach ($inventories as $inventory) {

                      $totalAttribute = DB::table('inventory_detail')->where('inventory_detail.inventory_ref_id', '=', $inventory->inventory_ref_id)->get();
                      $totalAttributes = count($totalAttribute);

                      if ($postAttributes > $totalAttributes) {
                          $count = $postAttributes;
                      } elseif ($postAttributes < $totalAttributes or $postAttributes == $totalAttributes) {
                          $count = $totalAttributes;
                      }


                      $individualStock = DB::table('inventory')->leftjoin('inventory_detail', 'inventory_detail.inventory_ref_id', '=', 'inventory.inventory_ref_id')
                          ->selectRaw('inventory.*')
                          ->whereIn('inventory_detail.attribute_id', [$attributeid])
                          ->where(DB::raw('(select count(*) from `inventory_detail` where `inventory_detail`.`attribute_id` in (' . $attributeid . ') and `inventory_ref_id`= "' . $inventory->inventory_ref_id . '")'), '=', $count)
                          ->where('inventory.inventory_ref_id', '=', $inventory->inventory_ref_id)
                          ->groupBy('inventory_detail.inventory_ref_id')
                          ->get();

                      if (count($individualStock) > 0) {
                          $inventory_ref_id = $individualStock[0]->inventory_ref_id;
                          $stockIn += $individualStock[0]->stock;
                      }
                      
                  }

                  $options_names = array();
                  $options_values = array();
                  foreach ($resattributes as $attribute) {
                      $productsAttributes = DB::table('products_attributes')
                          ->leftJoin('products_options', 'products_options.products_options_id', '=', 'products_attributes.options_id')
                          ->leftJoin('products_options_values', 'products_options_values.products_options_values_id', '=', 'products_attributes.options_values_id')
                          ->select('products_attributes.*', 'products_options.products_options_name as options_name', 'products_options_values.products_options_values_name as options_values')
                          ->where('products_attributes_id', $attribute)->get();

                      $options_names[] = $productsAttributes[0]->options_name;
                      $options_values[] = $productsAttributes[0]->options_values;
                  }

                  $options_names_count = count($options_names);
                  $options_names = implode("','", $options_names);
                  $options_names = "'" . $options_names . "'";
                  $options_values = "'" . implode("','", $options_values) . "'";
                  

                  //orders products
                  $orders_products = DB::table('orders_products')->where('products_id', $proCType->product_id)->get();
                  $stockOut = 0;
                  foreach ($orders_products as $orders_product) {
                      $totalAttribute = DB::table('orders_products_attributes')->where('orders_products_id', '=', $orders_product->orders_products_id)->get();
                      $totalAttributes = count($totalAttribute);

                      if ($postAttributes > $totalAttributes) {
                          $count = $postAttributes;
                      } elseif ($postAttributes < $totalAttributes or $postAttributes == $totalAttributes) {
                          $count = $totalAttributes;
                      }

                      $products = DB::select("select orders_products.* from `orders_products` left join `orders_products_attributes` on `orders_products_attributes`.`orders_products_id` = `orders_products`.`orders_products_id` where `orders_products`.`products_id`='" . $proCType->product_id . "' and `orders_products_attributes`.`products_options` in (" . $options_names . ") and `orders_products_attributes`.`products_options_values` in (" . $options_values . ") and (select count(*) from `orders_products_attributes` where `orders_products_attributes`.`products_id` = '" . $proCType->product_id . "' and `orders_products_attributes`.`products_options` in (" . $options_names . ") and `orders_products_attributes`.`products_options_values` in (" . $options_values . ") and `orders_products_attributes`.`orders_products_id`= '" . $orders_product->orders_products_id . "') = " . $count . " and `orders_products`.`orders_products_id` = '" . $orders_product->orders_products_id . "' group by `orders_products_attributes`.`orders_products_id`");

                      if (count($products) > 0) {
                          $stockOut += $products[0]->products_quantity;
                      }
                  }
                  $stocks[] = $stockIn - $stockOut;
                } 
              }

              $VarworkArray = implode(",", $stocks);
              $Vararray = explode(',', $VarworkArray);
              $VarStock = min($Vararray);


              if($NorStock >= $VarStock ){
                $totalStock = $VarStock;
              } else if($NorStock <= $VarStock){
                $totalStock = $NorStock;
              } else {
                $totalStock = 1;
              }
            ?>

            <input style="background: #f7f7f8;text-align:center" type="text" readonly name="quantity" class="detail-10-qty-num qty type_one" value="@if(!empty($result['cart'])){{$result['cart'][0]->customers_basket_quantity}}@else @if($result['detail']['product_data'][0]->products_min_order>0 and $totalStock > $result['detail']['product_data'][0]->products_min_order){{$result['detail']['product_data'][0]->products_min_order}}@else{{ $result['detail']['product_data'][0]->products_min_order }}@endif @endif" 
            
            min="@if($result['detail']['product_data'][0]->products_min_order>0 and $totalStock > $result['detail']['product_data'][0]->products_min_order){{$result['detail']['product_data'][0]->products_min_order}}@else{{ $result['detail']['product_data'][0]->products_min_order }}  @endif" 
            
            max="@if(!empty($result['detail']['product_data'][0]->products_max_stock) and $result['detail']['product_data'][0]->products_max_stock>0 and $totalStock >$result['detail']['product_data'][0]->products_max_stock){{ $result['detail']['product_data'][0]->products_max_stock}}@else{{ $totalStock}}@endif">  
            @else

<input type="text" style="background: #f7f7f8;text-align:center" readonly name="quantity" class="detail-10-qty-num qty type_one" value="@if(!empty($result['cart'])) {{$result['cart'][0]->customers_basket_quantity}} @else @if($result['detail']['product_data'][0]->products_min_order>0 and $result['detail']['product_data'][0]->defaultStock > $result['detail']['product_data'][0]->products_min_order) {{$result['detail']['product_data'][0]->products_min_order}} @else 1 @endif @endif" min="{{$result['detail']['product_data'][0]->products_min_order}}" max="{{$result['detail']['product_data'][0]->products_max_stock}}">


@endif

@else

<input type="text" style="background: #f7f7f8;text-align:center" readonly name="quantity" class="detail-10-qty-num qty type_one" value="@if(!empty($result['cart'])) {{$result['cart'][0]->customers_basket_quantity}} @else @if($result['detail']['product_data'][0]->products_min_order>0 and $result['detail']['product_data'][0]->defaultStock > $result['detail']['product_data'][0]->products_min_order) {{$result['detail']['product_data'][0]->products_min_order}} @else 1 @endif @endif" min="{{$result['detail']['product_data'][0]->products_min_order}}" max="9999999">


@endif
                  @else

                  <input type="text" style="background: #f7f7f8;text-align:center" readonly name="quantity" class="detail-10-qty-num qty type_one" value="@if(!empty($result['cart'])) {{$result['cart'][0]->customers_basket_quantity}} @else @if($result['detail']['product_data'][0]->products_min_order>0 and $result['detail']['product_data'][0]->defaultStock > $result['detail']['product_data'][0]->products_min_order) {{$result['detail']['product_data'][0]->products_min_order}} @else 1 @endif @endif" min="{{$result['detail']['product_data'][0]->products_min_order}}" max="{{$result['detail']['product_data'][0]->products_max_stock}}">


                  @endif

                  <input type="hidden" id="max_stock_one" value="{{$result['detail']['product_data'][0]->products_max_stock}}">

                  <span>

                <button type="button" class="detail-10-qty-adjust  quantity-minus1 btn qtyminus detail-10-qty-adjust-minus" aria-label="Reduce item quantity by one">
                  <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-minus" viewBox="0 0 64 64"><path class="detail-10-cls-1" d="M55 32H9"></path></svg>
                    <span class="detail-10-icon-fallback-text" aria-hidden="true">−</span>
                </button>
                <button type="button" class="detail-10-qty-adjust quantity-plus1 btn qtyplus detail-10-qty-adjust-plus" aria-label="Increase item quantity by one">
                  <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-plus" viewBox="0 0 64 64"><path class="detail-10-cls-1" d="M32 9v46m23-23H9"></path></svg>
                  <span class="detail-10-icon-fallback-text" aria-hidden="true">+</span>
                </button>
                          </span>
              </div>
            </div>
          </div>

         <!--  @if($result['detail']['product_data'][0]->button_type == 1 || $result['detail']['product_data'][0]->button_type == 3)


              <div class="input-group item-quantity">                    
                  {{-- <input type="text" id="quantity1" name="quantity" class="form-control" value="10">                       --}}
                  @if($result['detail']['product_data'][0]->products_type == 0)

                  @if($result['detail']['product_data'][0]->defaultStock > $result['detail']['product_data'][0]->products_max_stock && $result['detail']['product_data'][0]->products_max_stock !=0)

<input type="text" style="background: #f7f7f8;" readonly name="quantity" class="form-control qty" value="@if(!empty($result['cart'])) {{$result['cart'][0]->customers_basket_quantity}} @else @if($result['detail']['product_data'][0]->products_min_order>0 and $result['detail']['product_data'][0]->defaultStock > $result['detail']['product_data'][0]->products_min_order) {{$result['detail']['product_data'][0]->products_min_order}} @else 1 @endif @endif" min="{{$result['detail']['product_data'][0]->products_min_order}}" max="{{$result['detail']['product_data'][0]->products_max_stock}}">    <span class="input-group-btn">
  @else

  <input type="text" style="background: #f7f7f8;" readonly name="quantity" class="form-control qty" value="@if(!empty($result['cart'])) {{$result['cart'][0]->customers_basket_quantity}} @else @if($result['detail']['product_data'][0]->products_min_order>0 and $result['detail']['product_data'][0]->defaultStock > $result['detail']['product_data'][0]->products_min_order) {{$result['detail']['product_data'][0]->products_min_order}} @else 1 @endif @endif" min="{{$result['detail']['product_data'][0]->products_min_order}}" max="{{$result['detail']['product_data'][0]->defaultStock}}">    <span class="input-group-btn">

  @endif
  

@elseif($result['detail']['product_data'][0]->products_type == 1)

<input type="text" style="background: #f7f7f8;" readonly name="quantity" class="form-control qty type_one" value="@if(!empty($result['cart'])) {{$result['cart'][0]->customers_basket_quantity}} @else @if($result['detail']['product_data'][0]->products_min_order>0 and $result['detail']['product_data'][0]->defaultStock > $result['detail']['product_data'][0]->products_min_order) {{$result['detail']['product_data'][0]->products_min_order}} @else 1 @endif @endif" min="{{$result['detail']['product_data'][0]->products_min_order}}" max="{{$result['detail']['product_data'][0]->products_max_stock}}">    <span class="input-group-btn">
@else

<input type="text" style="background: #f7f7f8;" readonly name="quantity" class="form-control qty type_one" value="@if(!empty($result['cart'])) {{$result['cart'][0]->customers_basket_quantity}} @else @if($result['detail']['product_data'][0]->products_min_order>0 and $result['detail']['product_data'][0]->defaultStock > $result['detail']['product_data'][0]->products_min_order) {{$result['detail']['product_data'][0]->products_min_order}} @else 1 @endif @endif" min="{{$result['detail']['product_data'][0]->products_min_order}}" max="{{$result['detail']['product_data'][0]->products_max_stock}}">    <span class="input-group-btn">


@endif

<input type="hidden" id="max_stock_one" value="{{$result['detail']['product_data'][0]->products_max_stock}}">
                  <span class="input-group-btn">
                      <button type="button" class="quantity-plus1 btn qtyplus">
                          <i class="fas fa-plus"></i>
                      </button>
                  
                      <button type="button" class="quantity-minus1 btn qtyminus">
                          <i class="fas fa-minus"></i>
                      </button>
                  </span>
                </div> 

                @endif -->

            @if($result['commonContent']['setting'][226]->value == 2)
              <?php
                $res = $result['commonContent']['setting']['227']->value;
                $time = explode('-',$res);
                $startTime = strtotime($time[0]);
                $endTime = strtotime($time[1]);
                $currentTime = time();
              ?>
              @if($currentTime >= $startTime && $currentTime <= $endTime)
                <?php $ck = 0 ?>
              @else
                <?php $ck = 1; ?>
              @endif
            @else
              <?php $ck = 0; ?>
            @endif      

            @if($ck == 0)
              @if($result['detail']['product_data'][0]->button_type == 1 || $result['detail']['product_data'][0]->button_type == 3)

                @if(!empty($result['detail']['product_data'][0]->flash_start_date) and $result['detail']['product_data'][0]->server_time < $result['detail']['product_data'][0]->flash_start_date )
                  @else
                    @if($result['detail']['product_data'][0]->products_type == 0)
                    @if($result['commonContent']['settings']['Inventory'])
                    @if($result['detail']['product_data'][0]->stock_status == 1)
                        @if($result['detail']['product_data'][0]->defaultStock <= 0)
                        <div  style="margin-bottom:15px;"><span style="color:red;">OUT OF STOCK  </span> NOTIFY ME WHEN IT BECOMES AVAILABLE</div>
                            <button class="btn btn-lg swipe-to-top detail-10-new-cartbtn btn-danger " data-toggle="modal" data-target="#notifyModal" type="button">@lang('website.notify')</button>
                        @else
                            <button class="btn btn-secondary btn-lg detail-10-new-cartbtn swipe-to-top add-to-Cart"  type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>
                        @endif
                        @else
                            <button class="btn btn-secondary btn-lg detail-10-new-cartbtn swipe-to-top add-to-Cart"  type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>
                        @endif
                    @else
                    <button class="btn btn-secondary btn-lg detail-10-new-cartbtn swipe-to-top add-to-Cart"  type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>
                    @endif
                    @elseif($result['detail']['product_data'][0]->products_type == 1)
                          @if($result['commonContent']['settings']['Inventory'])
                          @if($result['detail']['product_data'][0]->stock_status == 0)
                          <button class="btn btn-secondary btn-lg detail-10-new-cartbtn swipe-to-top  add-to-Cart stock-cart" hidden type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>
                          <div class="stock-out-cart" hidden style="margin-bottom:15px;"><span style="color:red;">OUT OF STOCK  </span> NOTIFY ME WHEN IT BECOMES AVAILABLE</div>
                          <button class="btn btn-danger detail-10-new-cartbtn btn btn-lg swipe-to-top  stock-out-cart" data-toggle="modal" data-target="#notifyModal" hidden type="button">@lang('website.notify')</button>
                          @else
                          <button class="btn btn-secondary detail-10-new-cartbtn btn-lg swipe-to-top  add-to-Cart"  type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>
                          @endif
                          @else
                          <button class="btn btn-secondary detail-10-new-cartbtn btn-lg swipe-to-top  add-to-Cart"  type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>
                          @endif
                    @endif
                  @endif

                  @if($result['detail']['product_data'][0]->products_type == 2)
                    <a href="{{$result['detail']['product_data'][0]->products_url}}" target="_blank" class="btn btn-secondary btn-lg detail-10-new-cartbtn swipe-to-top">@lang('website.External Link')</a>
                  @endif

                  @if($result['detail']['product_data'][0]->products_type == 3)

                    <?php
                      $stocks = 0;
                      $stockarray = [];

                      $comboPro = DB::table('product_combo')->where('pro_id', $result['detail']['product_data'][0]->products_id)->get();

                      foreach($comboPro as $key=>$comboProd){

                          $stocksin = DB::table('inventory')->where('products_id', $comboProd->product_id)->where('stock_type', 'in')->sum('stock');
                          $stockOut = DB::table('inventory')->where('products_id', $comboProd->product_id)->where('stock_type', 'out')->sum('stock');
                          $stocks = $stocksin - $stockOut;
                          $stockarray[$key] = $stocks;
                          //print_r($stockarray);

                      }
                    ?>

                        @if($result['commonContent']['settings']['Inventory'])
                        @if($result['detail']['product_data'][0]->stock_status == 1)
                          @if(in_array('0',$stockarray))

                          <div  style="margin-bottom:15px;"><span style="color:red;">OUT OF STOCK  </span> NOTIFY ME WHEN IT BECOMES AVAILABLE</div>
                            <button class="btn btn-lg swipe-to-top detail-10-new-cartbtn btn-danger " data-toggle="modal" data-target="#notifyModal" type="button">@lang('website.notify')</button>

                        @else

                        <button class="btn btn-secondary btn-lg detail-10-new-cartbtn swipe-to-top add-to-Cart"  type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>

                        @endif
                        @else

<button class="btn btn-secondary btn-lg detail-10-new-cartbtn swipe-to-top add-to-Cart"  type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>

@endif
                    @else

                    <button class="btn btn-secondary btn-lg detail-10-new-cartbtn swipe-to-top add-to-Cart"  type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>

                    @endif   
                  @endif  
                  
                  
                  @if($result['detail']['product_data'][0]->products_type == 4)

                    <?php
                      $stocks = 0;
                      $stockarray = [];

                      $comboPro = DB::table('product_buy_x')->where('pro_id', $result['detail']['product_data'][0]->products_id)->get();

                      foreach($comboPro as $key=>$comboProd){

                          $stocksin = DB::table('inventory')->where('products_id', $comboProd->product_id)->where('stock_type', 'in')->sum('stock');
                          $stockOut = DB::table('inventory')->where('products_id', $comboProd->product_id)->where('stock_type', 'out')->sum('stock');
                          $stocks = $stocksin - $stockOut;
                          $stockarray[$key] = $stocks;
                          //print_r($stockarray);

                      }

                    $stocksgetx = 0;
                      $stockarraygetx = [];

                      $comboProgetx = DB::table('product_get_x')->where('pro_id', $result['detail']['product_data'][0]->products_id)->get();

                      foreach($comboProgetx as $key=>$comboProdgetx){

                          $stocksin = DB::table('inventory')->where('products_id', $comboProdgetx->product_id)->where('stock_type', 'in')->sum('stock');
                          $stockOut = DB::table('inventory')->where('products_id', $comboProdgetx->product_id)->where('stock_type', 'out')->sum('stock');
                          $stocksgetx = $stocksin - $stockOut;
                          $stockarraygetx[$key] = $stocksgetx;
                          //print_r($stockarraygetx);
                      }
                      

                    ?>

                        @if($result['commonContent']['settings']['Inventory'])
                        @if($result['detail']['product_data'][0]->stock_status == 1)
                          @if((in_array('0',$stockarray)) || (in_array('0',$stockarraygetx)))

                          <div  style="margin-bottom:15px;"><span style="color:red;">OUT OF STOCK  </span> NOTIFY ME WHEN IT BECOMES AVAILABLE</div>
                            <button class="btn btn-lg swipe-to-top detail-10-new-cartbtn btn-danger " data-toggle="modal" data-target="#notifyModal" type="button">@lang('website.notify')</button>

                        @else

                        <button class="btn btn-secondary btn-lg detail-10-new-cartbtn swipe-to-top add-to-Cart"  type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>

                        @endif
                        @else

<button class="btn btn-secondary btn-lg detail-10-new-cartbtn swipe-to-top add-to-Cart"  type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>

@endif
                    @else

                    <button class="btn btn-secondary btn-lg detail-10-new-cartbtn swipe-to-top add-to-Cart"  type="button" products_id="{{$result['detail']['product_data'][0]->products_id}}">@lang('website.Add to Cart')</button>

                    @endif   
                  @endif  


                  @endif   

@if($result['detail']['product_data'][0]->button_type == 2)
<button type="button" class="btn btn-secondary btn-lg swipe-to-top detail-10-new-cartbtn modal_show3" products_id="{{$result['detail']['product_data'][0]->products_id}}"  products_name="{{$result['detail']['product_data'][0]->products_name}}" >Book Appointment</button>
@endif
@if($result['detail']['product_data'][0]->button_type == 4)
<input type="hidden"  readonly name="quantity" class="form-control qty detail-8-iput-btn" value="1">

@endif
                
    @endif    
          </div>

          
        </form>

          <!-- <div class="pro-sub-buttons">
              <div class="buttons">
                  <button class="btn btn-link is_liked" products_id="<?=$result['detail']['product_data'][0]->products_id?>" style="padding-left: 0;"><i class="fas fa-heart"></i> @lang('website.Add to Wishlist') </button>
                  <button type="button" class="btn btn-link" onclick="myFunction3({{$result['detail']['product_data'][0]->products_id}})"><i class="fas fa-align-right"></i>@lang('website.Add to Compare')</button>
              
              </div>
             
              
          </div> -->
        
        </div>
      </div>
       <!--  <div class="row">
            <div class="col-12 col-md-12">
              <div class="nav nav-pills" role="tablist">
                <a class="nav-link nav-item  active" href="#description" id="description-tab" data-toggle="pill" role="tab">@lang('website.Descriptions')</a> 
                {{-- <a class="nav-link nav-item " href="#additionalInfo" id="additional-info-tab" data-toggle="pill" role="tab" >@lang('website.Additional information')</a>  --}}
                <a class="nav-link nav-item" href="#review" id="review-tab" data-toggle="pill" role="tab" >@lang('website.Reviews')</a>
              </div> 
              <div class="tab-content">
                <div role="tabpanel" class="tab-pane fade active show" id="description" aria-labelledby="description-tab">
                  <?=stripslashes($result['detail']['product_data'][0]->products_description)?>                        
                </div>  
               
                <div role="tabpanel" class="tab-pane fade " id="review" aria-labelledby="review-tab">
                  <div class="reviews">
                    @if(isset($result['detail']['product_data'][0]->reviewed_customers))
                      <div class="review-bubbles">
                          <h2>
                            @lang('website.Customer Reviews')
                          </h2>                            
                            @foreach($result['detail']['product_data'][0]->reviewed_customers as $key=>$rev)
                            <div class="review-bubble-single">
                                <div class="review-bubble-bg">
                                  <div class="pro-rating">
                                    <fieldset class="disabled-ratings">                                           
                                      <label class = "full fa @if($rev->reviews_rating >= 5) active @endif" for="star_5" title="@lang('website.awesome_5_stars')"></label>
                                      <label class = "full fa @if($rev->reviews_rating >= 4) active @endif" for="star_4" title="@lang('website.pretty_good_4_stars')"></label>                                          
                                      <label class = "full fa @if($rev->reviews_rating >= 3) active @endif" for="star_3" title="@lang('website.good_3_stars')"></label>                                          
                                      <label class = "full fa @if($rev->reviews_rating >= 2) active @endif" for="star_2" title="@lang('website.average_2_stars')"></label>
                                       <label class = "full fa @if($rev->reviews_rating >= 1) active @endif" for="star1" title="@lang('website.bad_1_stars')"></label>
                                    </fieldset>                                          
                                  </div>
                                    <h4>{{$rev->customers_name}}</h4>
                                    <span>{{date("d-M-Y", strtotime($rev->created_at))}}</span>
                                    <p>{{$rev->reviews_text}}</p>
                                </div>
                                
                            </div>
                            @endforeach                            
                      </div>
                      @endif
                      @if(Auth::guard('customer')->check())
                      <div class="write-review">
                        <form id="idForm">
                          {{csrf_field()}}
                          <input value="{{$result['detail']['product_data'][0]->products_id}}" type="hidden" name="products_id">
                        <h2>@lang('website.Write a Review')</h2>
                        <div class="write-review-box">
                            <div class="from-group row mb-3">
                                <div class="col-12"> <label for="inlineFormInputGroup2">@lang('website.Rating')</label></div>
                                <div class="pro-rating col-12">

                                  <fieldset class="ratings">
                                    
                                    <input type="radio" id="star5" name="rating" value="5" class="rating"/>
                                    <label class = "full fa" for="star5" title="@lang('website.awesome_5_stars')"></label>


                                    <input type="radio" id="star4" name="rating" value="4" class="rating"/>
                                    <label class="full fa" for="star4" title="@lang('website.pretty_good_4_stars')"></label>

                                    <input type="radio" id="star3" name="rating" value="3" class="rating"/>
                                    <label class = "full fa" for="star3" title="@lang('website.good_3_stars')"></label>

                                    <input type="radio" id="star2" name="rating" value="2" class="rating"/>
                                    <label class="full fa" for="star2" title="@lang('website.average_2_stars')"></label>

                                    <input type="radio" id="star1" name="rating" value="1" class="rating"/>
                                    <label class = "full fa" for="star1" title="@lang('website.bad_1_stars')"></label> 
                                  
                                </fieldset>                                     
                                    
                                </div>
                            </div>                              
                           
                              <div class="from-group row mb-3">
                                  <div class="col-12"> <label for="inlineFormInputGroup3">@lang('website.Review')</label></div>
                                  <div class="input-group col-12">                                      
                                    <textarea name="reviews_text" id="reviews_text" class="form-control" id="inlineFormInputGroup3" placeholder="@lang('website.Write Your Review')"></textarea>
                                  </div>
                              </div>

                              <div class="alert alert-danger" hidden id="review-error" role="alert">
                               @lang('website.Please enter your review')
                              </div>

                              <div class="from-group">
                                  <button type="submit" id="review_button" disabled class="btn btn-secondary swipe-to-top">@lang('website.Submit')</button>                                    
                              </div>
                        </div>
                        
                      </form>
                      </div>
                      @endif
                  </div> -->

                    
                </div> 
            </div>
        </div> 
        
        
      </div>

    </div>
    </div>
  </div>
</section>
<div class="container-fluid detail-10-accordion-outer">
  <div class="detail-10-accordion">
    <button class="detail-10-btn-toggle-show detail-10-p-1 detail-10-trigger-btn">
      <span>Description</span>
      <i class="fa fa-angle-down"></i>
    </button>
    <div class="detail-10-inner-content detail-10-para-hide detail-10-p-1">
      <p> <?=stripslashes($result['detail']['product_data'][0]->products_description)?>       </p>
     
    </div>
  </div>
  <div class="detail-10-accordion">
    <button class="detail-10-btn-toggle-show detail-10-p-1 detail-10-trigger-btn">
      <span>Ask a Question</span>
      <i class="fa fa-angle-down"></i>
    </button>
    <div class="detail-10-inner-content detail-10-para-hide detail-10-p-1">
    <div id="" class="" style="height: 503px;">
      <div class="detail-10-collapsible-content-inner">
        <div class="detail-10-form-vertical">
        <div class="detail-10-question-form-wrapper" style="">

  <form class="detail-10-question-form" name="ask_a_question" method="post" id="ask_a_question" enctype="multipart/form-data" action="{{ URL::to('/ask_a_questionnote')}}" style="width:100%;" >
  <input type="hidden" name="_token" id="csrf-token" value="{{ Session::token() }}" />
<input type="hidden" name="question_products_name" value="{{$result['detail']['product_data'][0]->products_name}}">
<input type="hidden" name="question_products_id" value="{{$result['detail']['product_data'][0]->products_id}}">
    <div class="detail-10-form-name-fieldset">
      <label for="question_name">Name</label>
      <input id="question_name" name="question_name" type="text" maxlength="100" required="" placeholder="Enter your name (public)">
    </div>

    <div class="detail-10-form-email-fieldset">
      <label for="question_email">Email</label>
      <input id="question_email" name="question_email" type="email" required="" placeholder="Enter your email (private)">
    </div>

    <div class="detail-10-form-question-fieldset">
      <label for="question_content">Question</label>
      <textarea id="question_content" rows="5" name="question_content" required="" placeholder="Write your question here"></textarea>
    </div>

    <input type="submit" class="detail-10-submit-question btn btn_c button " value="Submit Question">
  </form>
</div>

        </div>
      </div>
    </div>
      
    </div>
  </div>
  @if(session()->has('questionnotesuccess') )
  <p class="note note--success">
   {{ session()->get('questionnotesuccess') }}
      </p> 
      @endif
  
</div>



<div class="detail-10-tab-outer">
<div class="detail-10-tab-inner">
<div class="detail-10-tab">
  <h2 class="detail-10-header-title">Customer Reviews
  <button class="detail-10-tablinks" id="detail-10-One">Write a review</button>
 <!--  <button class="detail-10-tablinks" id="detail-10-Two">Ask a question</button> -->
  </h2>
  
  <input type="hidden" value="0" id="toggle-ask-question">
  @if($result['detail']['product_data'][0]->rating > 0)
  <div class="detail-10-tab-summary-outer">
    <div class="detail-10-tab-summary-inner"> 
    
   
    <div class="detail-10-histogram-row" data-rating="5" data-frequency="1" data-percentage="100">      
    <fieldset class="detail-10-histogram-star">                                         
    <label class = "full fa @if($result['detail']['product_data'][0]->rating >= 5) active @endif" for="star_5" title="@lang('website.awesome_5_stars')"></label>    
            <label class = "full fa @if($result['detail']['product_data'][0]->rating >= 4) active @endif" for="star_4" title="@lang('website.pretty_good_4_stars')"></label>  
            <label class = "full fa @if($result['detail']['product_data'][0]->rating >= 3) active @endif" for="star_3" title="@lang('website.good_3_stars')"></label>  
            <label class = "full fa @if($result['detail']['product_data'][0]->rating >= 2) active @endif" for="star_2" title="@lang('website.average_2_stars')"></label>                                       
                <label class = "full fa @if($result['detail']['product_data'][0]->rating >= 1) active @endif" for="star1" title="@lang('website.bad_1_stars')"></label>
        </fieldset>                                          
        
      </div>
      <div class="detail-10-review-bottom">Based on {{$result['detail']['product_data'][0]->total_user_rated}} review </div>

     
    </div>
  </div>

  <?php 
  $rate_5_count = 0;
  $rate_4_count = 0;
  $rate_3_count = 0;
  $rate_2_count = 0;
  $rate_1_count = 0;

  $rate_5_count_avg = 0;
  $rate_4_count_avg = 0;
  $rate_3_count_avg = 0;
  $rate_2_count_avg = 0;
  $rate_1_count_avg = 0;
  $rate_count = DB::table('reviews')->where('products_id',$result['detail']['product_data'][0]->products_id)->count();
   
      $rate_5_count = DB::table('reviews')->where('reviews_rating',5)->where('products_id',$result['detail']['product_data'][0]->products_id)->count();
      
      $rate_4_count = DB::table('reviews')->where('reviews_rating',4)->where('products_id',$result['detail']['product_data'][0]->products_id)->count();
    
  
      $rate_3_count = DB::table('reviews')->where('reviews_rating',3)->where('products_id',$result['detail']['product_data'][0]->products_id)->count();
      
  
      $rate_2_count = DB::table('reviews')->where('reviews_rating',2)->where('products_id',$result['detail']['product_data'][0]->products_id)->count();
     
    
      $rate_1_count = DB::table('reviews')->where('reviews_rating',1)->where('products_id',$result['detail']['product_data'][0]->products_id)->count();
     
   

    $rate_5_count_avg = $rate_5_count / $rate_count * 100;
    $rate_4_count_avg = $rate_4_count / $rate_count * 100;
    $rate_3_count_avg = $rate_3_count / $rate_count * 100;
    $rate_2_count_avg = $rate_2_count / $rate_count * 100;
    $rate_1_count_avg = $rate_1_count / $rate_count * 100;

    

  ?>

  <div class="detail-10-tab-history-outer detail-10-histogram">  
  <div class="detail-10-histogram-row" data-rating="5" data-frequency="1" data-percentage="100"> 
    <fieldset class="detail-10-histogram-star">                                           
      <label class = "full fa active" for="star_5"></label>    
      <label class = "full fa active" for="star_4"></label>  
      <label class = "full fa active" for="star_3"></label>  
      <label class = "full fa active" for="star_2"></label>                             
      <label class = "full fa active" for="star1"></label>
    </fieldset>          
    <div class="detail-10-histogram-bar"> 
      <div class="detail-10-histogram-bar-content" style="width: {{$rate_5_count_avg}}%;"> </div> 
    </div> 
    <div class="detail-10-histogram-percentage">{{$rate_5_count_avg}}%</div> 
    <div class="detail-10-histogram-frequency">({{$rate_5_count}})</div> 
  </div>

  <div class="detail-10-histogram-row" data-rating="5" data-frequency="1" data-percentage="100"> 
    <fieldset class="detail-10-histogram-star">                                           
      <label class = "full fa actives" for="star_5"></label>    
      <label class = "full fa active" for="star_4"></label>  
      <label class = "full fa active" for="star_3"></label>  
      <label class = "full fa active" for="star_2"></label>                             
      <label class = "full fa active" for="star1"></label>
    </fieldset>          
    <div class="detail-10-histogram-bar"> 
      <div class="detail-10-histogram-bar-content" style="width: {{$rate_4_count_avg}}%;"> </div> 
    </div> 
    <div class="detail-10-histogram-percentage">{{$rate_4_count_avg}}%</div> 
    <div class="detail-10-histogram-frequency">({{$rate_4_count}})</div> 
    </div>

    <div class="detail-10-histogram-row" data-rating="5" data-frequency="1" data-percentage="100"> 

    <fieldset class="detail-10-histogram-star">                                           
      <label class = "full fa actives" for="star_5"></label>    
      <label class = "full fa actives" for="star_4"></label>  
      <label class = "full fa active" for="star_3"></label>  
      <label class = "full fa active" for="star_2"></label>                             
      <label class = "full fa active" for="star1"></label>
    </fieldset>          
    <div class="detail-10-histogram-bar"> 
      <div class="detail-10-histogram-bar-content" style="width: {{$rate_3_count_avg}}%;"> </div> 
    </div> 
    <div class="detail-10-histogram-percentage">{{$rate_3_count_avg}}%</div> 
    <div class="detail-10-histogram-frequency">({{$rate_3_count}})</div> 
  </div>

  <div class="detail-10-histogram-row" data-rating="5" data-frequency="1" data-percentage="100"> 

    <fieldset class="detail-10-histogram-star">                                           
      <label class = "full fa actives" for="star_5"></label>    
      <label class = "full fa actives" for="star_4"></label>  
      <label class = "full fa actives" for="star_3"></label>  
      <label class = "full fa active" for="star_2"></label>                             
      <label class = "full fa active" for="star1"></label>
    </fieldset>          
    <div class="detail-10-histogram-bar"> 
      <div class="detail-10-histogram-bar-content" style="width: {{$rate_2_count_avg}}%;"> </div> 
    </div> 
    <div class="detail-10-histogram-percentage">{{$rate_2_count_avg}}%</div> 
    <div class="detail-10-histogram-frequency">({{$rate_2_count}})</div> 
    </div>

    <div class="detail-10-histogram-row" data-rating="5" data-frequency="1" data-percentage="100"> 

    <fieldset class="detail-10-histogram-star">                                           
      <label class = "full fa actives" for="star_5"></label>    
      <label class = "full fa actives" for="star_4"></label>  
      <label class = "full fa actives" for="star_3"></label>  
      <label class = "full fa actives" for="star_2"></label>                             
      <label class = "full fa active" for="star1"></label>
    </fieldset>          
    <div class="detail-10-histogram-bar"> 
      <div class="detail-10-histogram-bar-content" style="width: {{$rate_1_count_avg}}%;"> </div> 
    </div> 
    <div class="detail-10-histogram-percentage">{{$rate_1_count_avg}}%</div> 
    <div class="detail-10-histogram-frequency">({{$rate_1_count}})</div>
  </div> 

</div>

@else
      <div class="detail-10-histogram-row" data-rating="5" data-frequency="1" data-percentage="100">  
      <fieldset class="detail-10-histogram-star">                                         
          <label class = "full fa actives" for="star_5"></label>    
          <label class = "full fa actives" for="star_4"></label>  
          <label class = "full fa actives" for="star_3"></label>  
          <label class = "full fa actives" for="star_2"></label>                                       
          <label class = "full fa actives" for="star1"></label>
        </fieldset>  
        <div class="detail-10-review-bottom detail-10-display-inline">Be the first to write a review
</div>                                     
        
      </div>
     
      @endif
      @if(session()->has('questionsuccess') )
      <div class="detail-10-notification">{{ session()->get('questionsuccess') }}</div>
      @endif
  
    


<div id="detail-10-One" class="detail-10-tabcontent">
<div class="detail-10-form-wrapper" style="">
  
  <form class="detail-10-form" enctype="multipart/form-data" id="idForm" novalidate="novalidate">
  {{csrf_field()}}
  <input type="hidden" name="products_name" value="{{$result['detail']['product_data'][0]->products_name}}">
<input type="hidden" name="products_id" value="{{$result['detail']['product_data'][0]->products_id}}">
    <div class="detail-10-form-name-fieldset">
      <label for="name">Name</label>
      <input id="name" name="name" type="text" placeholder="Enter your name (public)" aria-label="Name">
    </div>

    <div class="detail-10-form-email-fieldset">
       
      <label for="email">Email</label>
      <input id="email" name="email" type="email" required="" placeholder="Enter your email (private)" aria-label="Email" aria-required="true">
    </div>

    <div class="detail-10-form-rating-fieldset" style="height:80px;" aria-label="Rating">
      <label>Rating</label>
      <div class="pro-rating col-12">

<fieldset class="ratings">
  
  <input type="radio" id="star5" name="rating" value="5" class="rating"/>
  <label class = "full fa labelrate" for="star5" title="@lang('website.awesome_5_stars')"></label>


  <input type="radio" id="star4" name="rating" value="4" class="rating"/>
  <label class="full fa labelrate" for="star4" title="@lang('website.pretty_good_4_stars')"></label>

  <input type="radio" id="star3" name="rating" value="3" class="rating"/>
  <label class = "full fa labelrate" for="star3" title="@lang('website.good_3_stars')"></label>

  <input type="radio" id="star2" name="rating" value="2" class="rating"/>
  <label class="full fa labelrate" for="star2" title="@lang('website.average_2_stars')"></label>

  <input type="radio" id="star1" name="rating" value="1" class="rating"/>
  <label class = "full fa labelrate" for="star1" title="@lang('website.bad_1_stars')"></label> 

</fieldset>                                     
  
</div>
    </div>

    <div class="detail-10-form-title-fieldset">
      
      <label for="title">Review Title</label>
      <input id="title" name="title" type="text" placeholder="Give your review a title" aria-label="Review Title">
    </div>

    <div class="detail-10-form-body-fieldset">
      
      <label for="msg">Review</label>
      <textarea id="reviews_text" rows="5" name="reviews_text" placeholder="Write your comments here" aria-label="Review"></textarea>
    </div>

    <div class="detail-10-custom-forms"></div>
<!-- 
    
      <label class="detail-10-picture-fieldset-title">Picture/Video (optional)</label>

      <div class="detail-10-picture-fieldset">
        
          <div class="detail-10-picture-fieldset-container detail-10-media-fieldset-container">
            <label class="detail-10-picture-fieldset-box detail-10-picture-fieldset-box-input">
              <div class="detail-10-picture-fieldset-box-wrapper">
                <div class="detail-10-picture-fieldset-icon detail-10-photocamera-icon">
                
                </div>
              </div>

              <input type="file" name="pictures" class="detail-10-picture-fieldset-input" multiple="" accept="image/gif,image/jpeg,image/jpg,image/png" aria-label="Choose a review picture (optional)">
              <div style="display: none !important" aria-label="Choose a review picture (optional)">Choose a review picture (optional)</div>
            </label>
          </div>
        

        
          <div class="detail-10-video-fieldset-container detail-10-media-fieldset-container">
            <label class="detail-10-picture-fieldset-box detail-10-picture-fieldset-box-input">
              <div class="detail-10-picture-fieldset-box-wrapper">
                <div class="detail-10-picture-fieldset-icon detail-10-videocam-icon">
                
              </div>
              </div>

              <input type="file" name="video" class="detail-10-picture-fieldset-input" accept="video/mov,video/mp4,video/x-m4v,video/*" aria-label="Choose a review video (optional)">
              <div style="display: none !important" aria-label="Choose a review video (optional)">Choose a review video (optional)</div>
            </label>
          </div>
        
      </div> -->
      
       <!--  <div class="detail-10-form-yt-video-fieldset" style="margin-bottom: 10px;">
          <input name="url" type="text" placeholder="YouTube URL" aria-label="YouTube URL">
        </div> -->
      
        <div class="alert alert-danger" hidden id="review-error" role="alert">
                               @lang('website.Please enter your review')
                              </div>

    <input type="submit" class="detail-10-submit-rev btn btn_c button " value="Submit Review">
  </form>
</div>
</div>

<!-- <div id="detail-10-Two" class="detail-10-tabcontent"> 
<div class="detail-10-question-form-wrapper" style="">
<form class="detail-10-question-form" name="ask_a_question" method="post" id="ask_a_question" enctype="multipart/form-data" action="{{ URL::to('/ask_a_question')}}" style="width:100%;" >
<input type="hidden" name="_token" id="csrf-token" value="{{ Session::token() }}" />
<input type="hidden" name="question_products_name" value="{{$result['detail']['product_data'][0]->products_name}}">
<input type="hidden" name="question_products_id" value="{{$result['detail']['product_data'][0]->products_id}}">
    <div class="detail-10-form-name-fieldset">
      <label for="question_name">Name</label>
      <input id="question_name" name="question_name" type="text" maxlength="100" required="" placeholder="Enter your name (public)">
    </div>

    <div class="detail-10-form-email-fieldset">
      <label for="question_email">Email</label>
      <input id="question_email" name="question_email" type="email" required="" placeholder="Enter your email (private)">
    </div>

    <div class="detail-10-form-question-fieldset">
      <label for="question_content">Question</label>
      <textarea id="question_content" rows="5" name="question_content" required="" placeholder="Write your question here"></textarea>
    </div>

    <input type="submit" class="detail-10-submit-question btn btn_c button " value="Submit Question">
  </form>
</div>
</div> -->
@if(isset($result['detail']['product_data'][0]->reviewed_customers))
<div class="jdgm-rev-widg__body" style="display: block;">
  <div class="jdgm-rev-widg__reviews">
    <div class="jdgm-rev jdgm-divider-top jdgm--done-setup" data-verified-buyer="true" data-review-id="ec43adbb-0b7a-4fe6-ac81-54ba91e7a1d4" data-product-title="Panasonic F-M15A0VBHH Ceiling Fan 60&quot; Dark Grey" data-product-url="/products/panasonic-f-m15a0vbhh-ceiling-fan-60-dark-grey-1" data-thumb-up-count="0" data-thumb-down-count="0"> 

      @foreach($result['detail']['product_data'][0]->reviewed_customers as $key=>$rev)
      <hr>
        <div class="jdgm-rev__header">
        <div class="review-bubble-bg"> 
        <div class="pro-rating">
          <fieldset class="disabled-ratings" style="display:inline-block">                                           
            <label class = "full fa @if($rev->reviews_rating >= 5) active @endif" for="star_5" title="@lang('website.awesome_5_stars')"></label>
            <label class = "full fa @if($rev->reviews_rating >= 4) active @endif" for="star_4" title="@lang('website.pretty_good_4_stars')"></label>                                          
            <label class = "full fa @if($rev->reviews_rating >= 3) active @endif" for="star_3" title="@lang('website.good_3_stars')"></label>                                          
            <label class = "full fa @if($rev->reviews_rating >= 2) active @endif" for="star_2" title="@lang('website.average_2_stars')"></label>
              <label class = "full fa @if($rev->reviews_rating >= 1) active @endif" for="star1" title="@lang('website.bad_1_stars')"></label>
          </fieldset>                                          
        </div>
        </div>
       
            <span class="jdgm-rev__timestamp" data-content="2022-06-28 10:03:51 UTC">{{date("d-M-Y", strtotime($rev->created_at))}}</span>  
            <div class="jdgm-rev__br"></div> 
            <span class="jdgm-rev__buyer-badge-wrapper"> 
            <span class="jdgm-rev__buyer-badge"></span> 
          </span> 
          <span class="jdgm-rev__author-wrapper"> 
            <span class="jdgm-rev__author">{{$rev->customers_name}}</span> 
            <span class="jdgm-rev__location">  </span> 
          </span> 
        </div> 
        <div class="jdgm-rev__content"> 
          <div class="jdgm-rev__custom-form">  </div> 
          <b class="jdgm-rev__title">{{$rev->reviews_title}}</b> 
          <div class="jdgm-rev__body"><p>{{$rev->reviews_text}}</p></div>
        </div> 
        <div class="jdgm-rev__replier-wrapper">
          <b class="jdgm-rev__replier"></b> reply
        </div> 
        <div class="jdgm-rev__reply-content"><p>Dear {{$rev->customers_name}},</p>
          <p>Thanks for your review, we are glad that you are satisfied with our Product. We thank you again and hope to serve you soon.</p>
        </div>  
        @endforeach
      </div> 
    </div>
  </div> 
</div>

</div>    
</div>    

@endif
</div>     
</div>     




<section class="product-content pro-content">
  <div class="container">
      <div class="row justify-content-center">
          <div class="col-12 col-lg-6">
              <div class="pro-heading-title">
                <h2> @lang('website.Related Products')
                </h2>
                <!-- <p> 
                  @lang('website.Related Products Text') -->
                </div>
          </div>
    
        </div>
  </div>
  <div class="general-product">
    <div class="container p-0">
        <div class="product-carousel-js10">      
              @foreach($result['simliar_products']['product_data'] as $key=>$products)
                @if($result['detail']['product_data'][0]->products_id != $products->products_id)                     
                <div class="slik">
                  @include('web.common.product')
                </div>  
                @endif
                @endforeach  
          </div>  
    </div>
  </div>  

  </section>
  @else
<div class="col-12">
<div class="container">
<h3>@lang('website.No Record Found!')</h3>
</div>
</div>
@endif

<div style="margin-top:100px;"></div>
<hr>
<div style="margin-bottom:20px;"></div>
@include('web.multibannerstwo.banner38') 
<style>
  .detail-10-tab-outer
  {
    padding:0 40px;
  }
  .detail-10-tab-inner {
    padding: 24px;
    border: 1px solid #eee;
    margin-top: 24px;
    margin-bottom: 24px;
}
  .detail-10-collapsible-content-inner {
    padding: 0 0 35px;
}

.expand-fancy-thumbs {
    bottom: -300px !important;
    right: -5px !important;
}
.slider-wrapper {
    position: relative;
}

@media (max-width: 576px)
{
  .expand-fancy-thumbs {
    bottom: -250px !important;
}
}

  </style>

  <script>

jQuery(document).ready(function () {
  (function (jQuery) {
    var tabCarousel = jQuery('.product-carousel-js10');

    if (tabCarousel.length) {
      tabCarousel.each(function () {
        var thisCarousel = jQuery(this),
            item = jQuery(this).data('item'),
            itemmobile = jQuery(this).data('itemmobile');
        thisCarousel.slick({
          lazyLoad: 'progressive',
          dots: false,
          arrows: false,
          infinite: false,
          autoplay: false,
          //rtl:true,
          speed: 300,
          slidesToShow: item || 4,
          slidesToScroll: 1,
          adaptiveHeight: true,
          responsive: [{
            breakpoint: 1025,
            settings: {
              slidesToShow: 4,
              slidesToScroll: 1
            }
          }, {
            breakpoint: 791,
            settings: {
              slidesToShow: 3,
              slidesToScroll: 3
            }
          }, {
            breakpoint: 650,
            settings: {
              slidesToShow: itemmobile || 1,
              slidesToScroll: itemmobile || 1
            }
          }]
        });
      });
    }

    ;
  })(jQuery);
}); // product page3 s

    
 $('.detail-10-slick-slider').slick({
    arrows: false,
    slidesToShow: 1,
   slidesToScroll: 1,
   centerMode: true,
    dots: true,
  
    infinite: true
  });

const buttonElement = document.querySelectorAll('.detail-10-tablinks');
const tabContent = document.querySelectorAll(".detail-10-tabcontent");



buttonElement.forEach(function (i) {
    i.addEventListener('click', function (event) {
      $('#toggle-ask-question').val('1');
        for (let x = 0; x < buttonElement.length; x++) {
            if (event.target.id == buttonElement[x].id) {
              if($('#toggle-ask-question').val() == '1')
              {
                $('#toggle-ask-question').val('0');
                buttonElement[x].className = buttonElement[x].className.replace(" active", "");
                tabContent[x].style.display = "block";
                event.currentTarget.className += " active";
              }
              else
              {

                tabContent[x].style.display = "none";
                buttonElement[x].className = buttonElement[x].className.replace(" active", "");
              }
            } else {
                tabContent[x].style.display = "none";
                buttonElement[x].className = buttonElement[x].className.replace(" active", "");
            }
        }
        
    });
});



jQuery(document).ready(function(e) {
$(".slick-arrow").click(function(){
  $('iframe').each(function(index) {
   $(this).attr('src', $(this).attr('src'));
  
 });
 
});

});

$(".detail-10-btn-toggle-show").click(toggleText(".detail-10-inner-content"));

function toggleText(element) {
  return function(e){
    $(this).parent().find(element).slideToggle(300);  
    $(this).parent().find(element).toggleClass("detail-10-para-hide");
    $(this).find("i").toggleClass("detail-10-rotate");
  }
}

function pauseVideo() {
 
 // changes the iframe src to prevent playback or stop the video playback in our case
 $('iframe').each(function(index) {
   $(this).attr('src', $(this).attr('src'));
  
 });

 jQuery('.slider-for-vertical').slick({
  slidesToShow: 1,
  slidesToScroll: 1,
  arrows: false,
  infinite: false,
  draggable: false,
  fade: true,
  asNavFor: '.slider-nav-vertical'
});
jQuery('.slider-nav-vertical').slick({
  dots: false,
  arrows: false,
  vertical: true,
  asNavFor: '.slider-for-vertical',
  slidesToShow: 3,
  infinite: false,
   //centerMode: true,

  slidesToScroll: 1,
  verticalSwiping: true,
  focusOnSelect: true
});
 
//click function


   }

   function convertTZ(date, tzString) {
    return new Date((typeof date === "string" ? new Date(date) : date).toLocaleString("en-US", {timeZone: tzString}));   
}


    jQuery(document).ready(function(e) {
    
      @if(!empty($result['detail']['product_data'][0]->flash_start_date))
         @if( date("Y-m-d",$result['detail']['product_data'][0]->server_time) >= date("Y-m-d",$result['detail']['product_data'][0]->flash_start_date))
          var product_div_{{$result['detail']['product_data'][0]->products_id}} = 'product_div_{{$result['detail']['product_data'][0]->products_id}}';
        var  counter_id_{{$result['detail']['product_data'][0]->products_id}} = 'counter_{{$result['detail']['product_data'][0]->products_id}}';
        var inputTime_{{$result['detail']['product_data'][0]->products_id}} = "{{date('M d, Y H:i:s' ,$result['detail']['product_data'][0]->flash_expires_date)}}";
    
        // Set the date we're counting down to
        var countDownDate_{{$result['detail']['product_data'][0]->products_id}} = new Date(inputTime_{{$result['detail']['product_data'][0]->products_id}}).getTime();
    
        // Update the count down every 1 second
        var x_{{$result['detail']['product_data'][0]->products_id}} = setInterval(function() {
    
          var new_now = convertTZ(new Date(), "Asia/Kuala_Lumpur");
   // Get todays date and time
   var now = new_now.getTime();
    
          // Find the distance between now and the count down date
          var distance_{{$result['detail']['product_data'][0]->products_id}} = countDownDate_{{$result['detail']['product_data'][0]->products_id}} - now;
    
          // Time calculations for days, hours, minutes and seconds
          var days_{{$result['detail']['product_data'][0]->products_id}} = Math.floor(distance_{{$result['detail']['product_data'][0]->products_id}} / (1000 * 60 * 60 * 24));
          var hours_{{$result['detail']['product_data'][0]->products_id}} = Math.floor((distance_{{$result['detail']['product_data'][0]->products_id}} % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          var minutes_{{$result['detail']['product_data'][0]->products_id}} = Math.floor((distance_{{$result['detail']['product_data'][0]->products_id}} % (1000 * 60 * 60)) / (1000 * 60));
          var seconds_{{$result['detail']['product_data'][0]->products_id}} = Math.floor((distance_{{$result['detail']['product_data'][0]->products_id}} % (1000 * 60)) / 1000);
          var days_text = "@lang('website.Days')";
          // Display the result in the element with id="demo"
          document.getElementById(counter_id_{{$result['detail']['product_data'][0]->products_id}}).innerHTML = "<span class='days'>"+days_{{$result['detail']['product_data'][0]->products_id}} + "<small>@lang('website.Days')</small></span> <span class='hours'>" + hours_{{$result['detail']['product_data'][0]->products_id}} + "<small>@lang('website.Hours')</small></span> <span class='mintues'> "
          + minutes_{{$result['detail']['product_data'][0]->products_id}} + "<small>@lang('website.Minutes')</small></span> <span class='seconds'>" + seconds_{{$result['detail']['product_data'][0]->products_id}} + "<small>@lang('website.Seconds')</small></span> ";
    
          // If the count down is finished, write some text
          if (distance_{{$result['detail']['product_data'][0]->products_id}} < 0) {
          clearInterval(x_{{$result['detail']['product_data'][0]->products_id}});
          //document.getElementById(counter_id_{{$result['detail']['product_data'][0]->products_id}}).innerHTML = "EXPIRED";
          document.getElementById('product_div_{{$result['detail']['product_data'][0]->products_id}}').remove();
          }
        }, 1000);
           @endif
       @endif
    
  
    });
    </script>